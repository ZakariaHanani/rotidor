if (self.CavalryLogger) { CavalryLogger.start_js_script(document.currentScript); }/*FB_PKG_DELIM*/

__d("usePolarisStoryAdMediaImpressionLogger",["PolarisODS","usePartialViewImpression"],function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=new Map();function a(a,b,d){return c("usePartialViewImpression")({onImpressionStart:function(){if((a==null?void 0:a.ad_id)==null||(a==null?void 0:a.tracking_token)==null||b==null||d==null)return;var e=i.get(d),f=Date.now();e==null?(c("PolarisODS").incr("web.ads.story.media.impression"),i.set(d,f)):f-e>=h&&(c("PolarisODS").incr("web.ads.story.media.sub_impression"),i.set(d,f))}})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("usePolarisStoryAdReelImpressionLogger",["PolarisODS","usePartialViewImpression"],function(a,b,c,d,e,f,g){"use strict";var h=6e4,i=new Map();function a(a,b){return c("usePartialViewImpression")({onImpressionStart:function(){if((a==null?void 0:a.ad_id)==null||(a==null?void 0:a.tracking_token)==null||b==null)return;var d=i.get(b),e=Date.now();d==null?(c("PolarisODS").incr("web.ads.story.reel.impression"),i.set(b,e)):e-d>=h&&(c("PolarisODS").incr("web.ads.story.reel.sub_impression"),i.set(b,e))}})}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisSponsoredStoriesFooterCTA.react",["cx","PolarisExternalLink.react","PolarisFeedClickEventLoggerProvider.react","PolarisIGCoreText","PolarisODS","PolarisPageIdentifierConstants","PolarisStoryActions","PolarisTrackingNodeProvider.react","PolarisstorySelectors","PolarisuseOffsiteTrackingDataURLParams","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState;function a(a){var b=a.adInfo,e=a.ctaUrl,f=a.isMobile;f=f===void 0?!1:f;a=a.text;var g=d("react-redux-wwwig").useDispatch(),h=function(){c("PolarisODS").incr("web.ads.story.link_click"),g(d("PolarisStoryActions").navigateFromStory())},l=k(!1),m=l[0],n=l[1];j(function(){n(!1);var a=window.setTimeout(function(){n(!0)},3e3);return function(){return window.clearTimeout(a)}},[b]);l=i.jsx("div",{className:"_adsy",children:i.jsx(c("PolarisIGCoreText").Body,{color:m?"web-always-black":"web-always-white",textAlign:"center",weight:"semibold",children:a})});b=f?i.jsx("div",{className:"_9znl _ads_"}):null;a=c("PolarisuseOffsiteTrackingDataURLParams")(e);f=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostId));var o=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPost));o=c("nullthrows")(o.owner).id;b=i.jsxs("div",{children:[b,i.jsx("div",{className:"_adt1"+(m?" _adt2":""),children:i.jsx(c("PolarisExternalLink.react"),{author_id:o!=null?Number(o):0,callsite:"stories",className:"_adtk",href:e,media_pk:f,onClick:h,page_id:c("PolarisPageIdentifierConstants").StoriesPage,queryParams:a,target:"_blank",children:l})})]});return i.jsx(c("PolarisFeedClickEventLoggerProvider.react"),{children:i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:86,children:b})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesFooterCTA.react",["cx","fbt","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.onOpenCta;return j.jsx("div",{className:"_adip",onClick:a,role:"button",tabIndex:"0",children:j.jsx("div",{className:"_adiq",children:i._("See More")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisIGCoreStoryHighlightPanoFilled24Icon",["PolarisIGCoreSVGIcon","react"],function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsx(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:h.jsx("path",{d:"M12 .5A11.5 11.5 0 1023.5 12 11.513 11.513 0 0012 .5zm2.809 14.005c-.137.12-.275.238-.412.36l-.424.38c-1.053.941-1.428 1.273-1.633 1.406a.628.628 0 01-.68 0c-.215-.139-.666-.54-1.584-1.362l-.473-.424q-.198-.175-.396-.346C8.122 13.576 7 12.6 7 11.072a2.92 2.92 0 012.793-3.028A2.555 2.555 0 0111.994 9.2c.002.002.003.004.008.001a2.544 2.544 0 012.205-1.157A2.92 2.92 0 0117 11.072c0 1.532-1.114 2.498-2.191 3.433z"})}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoriesFooterHighlightButtons.react",["fbt","PolarisIGCoreButton","PolarisIGCoreStoryHighlightPanoFilled24Icon","PolarisIGCoreStoryHighlightPanoOutline24Icon","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onClick;a=a.iconVariant;return i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:b,children:i.jsx("div",{className:"ho3chyhf aaaxlfqi jwdebf3c s8sjc6am",children:a==="FILLED"?i.jsx(c("PolarisIGCoreStoryHighlightPanoFilled24Icon"),{alt:h._("Add to highlight button"),color:"web-always-white",size:20}):i.jsx(c("PolarisIGCoreStoryHighlightPanoOutline24Icon"),{alt:h._("Add to highlight button"),color:"web-always-white",size:20})})})}a.displayName=a.name+" [from "+f.id+"]";g.PolarisAddStoryToHighlightButton=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisuseStoriesProviderDisableNewPlayback",["PolarisConfig","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function a(a,b,c,e){var f=a.hasFocus,g=a.isBugNubActive,i=a.isCloseFriendsDialogActive,j=a.isExclusiveStoryDialogActive,k=a.isHidden,l=a.isKeyboardActive,m=a.isModalActive,n=a.isPaused,o=a.isStoryShareSheetActive,p=a.isStoryViewerListActive,q=a.isHighlightsTrayActive,r=a.isTransitioning,s=a.isUnfollowModalActive;h(function(){var a=g||j||i||l||m||n||o||p||q||r||s||k||d("PolarisConfig").isIOS()&&!f||b!=null||c;e({isPlaybackDisabled:a})},[f,g,i,j,k,l,m,n,o,p,q,r,s,c,e,b])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("useWWWIGStoriesLogging",["PolarisstorySelectors","logXIGPageView","react","react-redux-wwwig","useCometRouterState"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useEffect,i=b.useRef;function a(){var a=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostId),b=c("useCometRouterState")(),e=i(null);h(function(){b!=null&&a!=null&&(e==null?void 0:e.current)!=null&&e.current!==a&&c("logXIGPageView")(b),e.current=a},[a,b])}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoriesProvider.react",["PolarisRelationshipTypes","PolarisStoriesContext","PolarisrelationshipSelectors","PolarisstorySelectors","PolarisuseStoriesProviderDisableNewPlayback","nullthrows","react","react-redux-wwwig","useWWWIGStoriesLogging"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");e=d("react");var i=e.useCallback,j=e.useContext,k=e.useEffect,l=e.useMemo,m=e.useState;function a(){return j(d("PolarisStoriesContext").StoriesContext)}function b(a){var b=a.children,e=a.initialState,f=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostAuthor));a=d("react-redux-wwwig").useSelector(function(a){return d("PolarisrelationshipSelectors").getRelationship(a.relationships,f.id)});var g=a.followedByViewer.state===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING,j=d("react-redux-wwwig").useSelector(function(a){return a.displayProperties.viewportHeight});a=l(function(){return babelHelpers["extends"]({},d("PolarisStoriesContext").defaultContext,e,{isInitiallyFollowedByViewer:g,viewerHeight:j})},[g,e,j]);a=m(a);var n=a[0],o=a[1];a=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").isFromPreviousFullscreenSession);var p=d("react-redux-wwwig").useSelector(function(a){return a.stories.isAppAttributionOpen}),q=d("react-redux-wwwig").useSelector(function(a){return a.stories.tappedObjectId}),r=i(function(a){return o(function(b){return babelHelpers["extends"]({},b,a)})},[]),s=l(function(){return babelHelpers["extends"]({},n,{updateStoriesContext:r})},[n,r]);c("useWWWIGStoriesLogging")();var t=a||p;c("PolarisuseStoriesProviderDisableNewPlayback")(n,q,t,r);k(function(){r({isResumeOverlayActive:t})},[t,r]);k(function(){r({hasFocus:document.hasFocus(),isHidden:document.hidden!=null?document.hidden:!1})},[r]);return h.jsx(d("PolarisStoriesContext").StoriesContext.Provider,{value:s,children:b})}b.displayName=b.name+" [from "+f.id+"]";e=h.memo(b);g.useStoriesContext=a;g.StoriesContextProvider=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryReplyReaction.react",["cx","PolarisDirectStrings","PolarisEmojiHelper","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreText","PolarisUA","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=51;e=8;var j=(b+2*e)*4,k=d("PolarisEmojiHelper").emojiListFromCodePoint([[128514],[128558],[128525],[128546]]),l=d("PolarisEmojiHelper").emojiListFromCodePoint([[128079],[128293],[127881],[128175]]);function m(a){var b=a.emoji,e=a.onReactToStory;return i.jsx(c("PolarisIGCoreBox"),{margin:2,children:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){return e(b)},children:i.jsx("span",{className:(d("PolarisUA").isMobile()?"_ac5a":"")+(d("PolarisUA").isMobile()?"":" _ac5b"),children:b})})})}m.displayName=m.name+" [from "+f.id+"]";function a(a){var b=a.onReactToStory;a=d("PolarisUA").isMobile()?j:void 0;var e=d("PolarisUA").isMobile()?17:4;return i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",children:i.jsxs("div",{className:"_ac5c",children:[i.jsx(c("PolarisIGCoreText").Title,{color:"web-always-white",textAlign:"center",weight:"semibold",children:d("PolarisDirectStrings").QUICK_REACTIONS}),i.jsxs(c("PolarisIGCoreBox"),{direction:"row",display:"flex",justifyContent:"center",marginBottom:e,marginTop:6,width:a,wrap:!0,children:[i.jsx(c("PolarisIGCoreBox"),{direction:"row",display:"flex",children:k.map(function(a){return i.jsx(m,{emoji:a,onReactToStory:b},a)})}),i.jsx(c("PolarisIGCoreBox"),{direction:"row",display:"flex",children:l.map(function(a){return i.jsx(m,{emoji:a,onReactToStory:b},a)})})]})]})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryReplyComposer.react",["cx","Keys","PolarisDirectActions","PolarisDirectStrings","PolarisIGCoreBox","PolarisIGCoreButton","PolarisLikeButton.react","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoryActions","PolarisStoryReplyReaction.react","PolarisStoryStrings","PolarisUA","PolarisuseDisplayProperties","PolarisuseIGCorePreviousValue","PolarisuserSelectors","gkx","nullthrows","react","react-redux-wwwig","react-textarea-autosize-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext,l=b.useEffect,m=b.useRef,n=b.useState;function a(a){var b=a.handleStoryLike,e=a.likedByViewer,f=a.mediaId,g=a.onOpenStoriesComposer,h=a.onReactToStory,o=a.onReplyToStory,p=a.onSendMessage,q=a.onStoriesSendDismissMessage,r=a.onStoriesSendReaction,s=a.optionsElement,t=a.reelId,u=a.shareButton,v=a.storyOwnerId;a=a.supportsReelReactions;var w=k(d("PolarisStoriesContext").StoriesContext),x=w.isKeyboardActive,y=w.updateStoriesContext;w=n("");var z=w[0],A=w[1];w=n(!0);var B=w[0],C=w[1];w=c("PolarisuseDisplayProperties")();var D=w.orientation,E=w.viewportHeight,F=w.viewportWidth,G=c("PolarisuseIGCorePreviousValue")(D),H=c("PolarisuseIGCorePreviousValue")(E),I=c("PolarisuseIGCorePreviousValue")(F),J=m(),K=d("PolarisUA").isDesktop()?300:0;w=d("react-redux-wwwig").useSelector(function(a){return d("PolarisuserSelectors").getUserById(a,v)});w=w.username;w=d("PolarisUA").isDesktop()?d("PolarisStoryStrings").directReplyPlaceholder(c("nullthrows")(w)):d("PolarisDirectStrings").SEND_MESSAGE_STRING_V2;var L=j(function(){if(B)return;q(!0,z);o(v,t,f,z);p&&p(z);y({isKeyboardActive:!1});A("");C(!0);J.current!=null&&J.current.blur()},[B,f,z,o,p,q,t,v,y]),M=j(function(a){a=a.target.value;A(a);C(a.replace(/\s/g,"").length===0)},[]),N=j(function(a){d("PolarisUA").isDesktop()&&a.which===c("Keys").RETURN&&!a.shiftKey&&(a.preventDefault(),L())},[L]),O=j(function(a){d("PolarisUA").isDesktop()&&(a.which===c("Keys").LEFT||a.which===c("Keys").RIGHT)&&(a.preventDefault(),a.stopPropagation())},[]),P=j(function(){y({isKeyboardActive:!0}),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startPauseTimer(),g()},[g,y]),Q=j(function(){x&&q(!1),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.stopPauseTimer(),window.setTimeout(function(){return y({isKeyboardActive:!1})},K)},[q,x,y,K]);l(function(){H!=null&&G===D&&I===F&&H<E&&J.current!=null&&document.activeElement===J.current&&J.current.blur()},[D,G,H,I,E,F]);var R=j(function(a){p(a),r(a),h(v,t,f,a)},[f,r,h,p,t,v]);a=z.length===0&&x&&a;return c("gkx")("4838")!==!0?null:i.jsxs(i.Fragment,{children:[x&&i.jsx("div",{className:"_abx3"}),a&&c("gkx")("4839")&&i.jsx(c("PolarisStoryReplyReaction.react"),{onReactToStory:R}),i.jsxs(c("PolarisIGCoreBox"),{direction:"row",children:[i.jsxs("div",{className:"_abx0"+(d("PolarisUA").isDesktop()?" _abx1":""),children:[i.jsx(c("PolarisIGCoreBox"),{flex:"grow",marginEnd:1,children:i.jsx(c("react-textarea-autosize-wwwig"),{className:"_abx2",disabled:c("gkx")("4787")!==!0,maxRows:5,onBlur:Q,onChange:M,onFocus:P,onKeyDown:N,onKeyUp:O,placeholder:w,ref:J,value:z})}),B?s:i.jsx(c("PolarisIGCoreBox"),{marginEnd:2,children:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"web-always-white",onClick:L,children:d("PolarisDirectStrings").SEND_BUTTON_STRING})})]}),!x&&c("gkx")("5703")?i.jsx("div",{className:"_abx4",children:i.jsx(c("PolarisLikeButton.react"),{color:"ig-stroke-on-media",isLiked:e,onChange:b})}):null,x?null:u]})]})}a.displayName=a.name+" [from "+f.id+"]";e={onOpenStoriesComposer:d("PolarisStoryActions").logOpenStoriesComposer,onReactToStory:d("PolarisDirectActions").reactToStory,onReplyToStory:d("PolarisDirectActions").replyToStory,onStoriesSendDismissMessage:d("PolarisStoryActions").logStoriesSendDismissMessage,onStoriesSendReaction:d("PolarisStoryActions").logStoriesSendReaction};h=d("react-redux-wwwig").connect(null,e)(a);g["default"]=h},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryShareButton.react",["cx","PolarisContainerModuleUtils","PolarisDirectShareSheet.react","PolarisDirectStrings","PolarisIGCoreDirectPanoOutlineIcon","PolarisIGCoreSVGIconButton","PolarisInstagramAdDirectReshareSendFalcoEvent","PolarisInteractionsLogger","PolarisLogger","PolarisODS","PolarisPageIdentifierConstants","PolarisStoriesContext","PolarisViewpointActionUtils","PolarisadsSelectors","PolarisisUserLoggedIn","PolarisrelationshipSelectors","PolarisuseAnalyticsContext","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext;function a(a){var b=a.currentPost,e=a.handleShareStory;a=a.referrer;var f=k(d("PolarisStoriesContext").StoriesContext),g=f.isStoryShareSheetActive,h=f.shareClickCount,l=f.updateStoriesContext;f=function(){var a;if(b==null?void 0:(a=b.sharingFrictionInfo)==null?void 0:a.shouldHaveSharingFriction){l({isPlaybackDisabled:!0,shareClickCount:h+1});return}l({isStoryShareSheetActive:!0})};var m=b.owner,n=m==null?void 0:m.id,o=d("PolarisadsSelectors").useStoryAdInfo(b==null?void 0:b.id,function(a){return a}),p=d("PolarisViewpointActionUtils").getMPKForStoryMedia(b.id,m)||"",q=d("PolarisInteractionsLogger").getMediaTypeFromPost(b),r=d("PolarisrelationshipSelectors").useRelationship(n||""),s=c("PolarisuseAnalyticsContext")();m=function(a,b){if(o!=null&&o.ad_id!=null&&o.tracking_token!=null&&r!=null){var f=d("PolarisContainerModuleUtils").getContainerModule(s);c("PolarisODS").incr("web.ads.story.share");c("PolarisInstagramAdDirectReshareSendFalcoEvent").log(function(){return{a_pk:n,ad_id:o.ad_id,follow_status:d("PolarisViewpointActionUtils").getFollowStatus(r),m_pk:p,m_t:q,pigeon_reserved_keyword_module:f,source_of_action:f,tracking_token:o.tracking_token}})}e(a,b)};var t=j(function(){d("PolarisLogger").logAction_DEPRECATED("loggedOutStoryShareClick",{source:c("PolarisPageIdentifierConstants").StoriesPage}),l({isLoggedOutStoryShareSheetActive:!0,isPaused:!0})},[l]);return i.jsxs("div",{className:"_ac3h",children:[!d("PolarisisUserLoggedIn").isUserLoggedIn()&&i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:t,children:i.jsx(c("PolarisIGCoreDirectPanoOutlineIcon"),{alt:d("PolarisDirectStrings").DIRECT_BUTTON_ALT_TEXT,color:"ig-stroke-on-media",size:24})}),d("PolarisisUserLoggedIn").isUserLoggedIn()&&i.jsx(d("PolarisDirectShareSheet.react").DirectShareSheet,{onClose:function(){return l({isStoryShareSheetActive:!1})},onDone:m,onOpen:f,referrer:a,shouldShow:g,children:i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(){},children:i.jsx(c("PolarisIGCoreDirectPanoOutlineIcon"),{alt:d("PolarisDirectStrings").DIRECT_BUTTON_ALT_TEXT,color:"ig-stroke-on-media",size:24})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryViewerButton.react",["cx","fbt","PolarisConsumerBigNumber.react","PolarisFacepile.react","PolarisIGCoreBox","PolarisIGCoreButton","PolarisStoriesProvider.react","PolarisstorySelectors","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=d("react").useCallback,l=3;function a(a){a=d("PolarisStoriesProvider.react").useStoriesContext();var b=a.updateStoriesContext;a=k(function(){b({isStoryViewerListActive:!0})},[b]);var e=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPost);if(e==null)return null;var f=e.storyViewCount;e=e.storyViewers;e=e?e.slice(0,l).map(function(a){return a.user.id}):[];if(f==null||f<=0||e==null)return null;f=Math.floor(f);return j.jsx("div",{className:"_ac5m",children:j.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a,children:e!=null?j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"column",children:[j.jsx(c("PolarisIGCoreBox"),{marginBottom:1,children:j.jsx(c("PolarisFacepile.react"),{border:"transparent",overlapDirection:"left",userIds:e})}),j.jsx("span",{className:"_ac5n",children:i._("Seen by {count}",[i._param("count",j.jsx(c("PolarisConsumerBigNumber.react"),{value:f}))])})]}):j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",children:[j.jsx(c("PolarisIGCoreBox"),{marginEnd:2,children:j.jsx("span",{className:"_ac5o _9_4d"})}),j.jsx("span",{className:"_ac5p",children:j.jsx(c("PolarisConsumerBigNumber.react"),{value:f})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryViewerToast.react",["PolarisIGCoreToast","PolarisStyleConstants","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=c("PolarisStyleConstants")["toast-anim-duration"].value*1e3;function a(a){var b=a.message;a=a.onClose;return b===""?null:h.jsx(c("PolarisIGCoreToast"),{duration:i,onClose:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisuseStoryLikes",["PolarisLogger","PolarisNavigationActions","PolarisPageIdentifierConstants","PolarisStoriesContext","PolarisStoryActions","PolarisisUserLoggedIn","react","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useContext;function a(a,b){var e=d("react-redux-wwwig").useDispatch(),f=i(d("PolarisStoriesContext").StoriesContext),g=f.updateStoriesContext;f=h(function(){d("PolarisLogger").logAction_DEPRECATED("loggedOutStoryLikeClick",{source:c("PolarisPageIdentifierConstants").StoriesPage}),e(d("PolarisNavigationActions").openLoggedOutIntentDialog("story_feedback_like",b)),g({isLoggedOutIntentDialogActive:!0,isPaused:!0})},[e,b,g]);var j=h(function(b){b?e(d("PolarisStoryActions").sendStoryLikeAction(a)):e(d("PolarisStoryActions").unsendStoryLikeAction(a))},[e,a]);return d("PolarisisUserLoggedIn").isUserLoggedIn()?j:f}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("usePolarisStoriesFooter",["PolarisDirectActions","PolarisDirectStrings","PolarisStoryActions","PolarisuseMQTT","Promise","promiseDone","react","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";e=d("react");var h=e.useCallback,i=e.useState;function a(a,e){var f=e.id,g=i(""),j=g[0],k=g[1],l=d("react-redux-wwwig").useDispatch(),m=c("PolarisuseMQTT")();g=(g=a.owner)==null?void 0:g.id;var n=d("react-redux-wwwig").useSelector(function(a){return a.users.viewerId}),o=a.storyCtaUrl;n=g===n;var p=e.canReshare===!0&&!n&&a.audience!=="MediaAudience.BESTIES";e=e.canReply!=null&&e.canReply&&!n&&o==null;var q="";g!=null&&(q=a.id+"_"+g);a=h(function(){o!=null&&l(d("PolarisStoryActions").openCtaUrl(o,"story_cta_tap"))},[l,o]);var r=h(function(a,e){e!=null&&e!==""?c("promiseDone")(b("Promise").resolve(l(d("PolarisDirectActions").shareStory(m,a,f,q,e))).then(k(d("PolarisDirectStrings").SENT_TOAST_TEXT))):c("promiseDone")(b("Promise").resolve(l(d("PolarisDirectActions").shareStory(m,a,f,q))).then(k(d("PolarisDirectStrings").SENT_TOAST_TEXT)))},[l,q,f,m]),s=h(function(a,b){r(a,b)},[r]);return{ctaUrl:o,toastMessage:j,handleShareStory:s,setToastMessage:k,canReply:e,canReshare:p,onOpenCta:a,isViewingOwnStory:n,mediaId:q,storyOwnerId:g}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesFooter.react",["cx","PolarisDesktopStoriesFooterCTA.react","PolarisDirectStrings","PolarisGraphQLTypes","PolarisLikeButton.react","PolarisSponsoredStoriesFooterCTA.react","PolarisStoriesFooterHighlightButtons.react","PolarisStoriesProvider.react","PolarisStoryReplyComposer.react","PolarisStoryShareButton.react","PolarisStoryViewerButton.react","PolarisStoryViewerToast.react","PolarisUA","PolarisadsSelectors","PolarispostSelectors","PolarisuseStoryLikes","gkx","qex","react","react-redux-wwwig","usePolarisStoriesFooter"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b,e=a.post;a=a.reel;var f=d("PolarisStoriesProvider.react").useStoriesContext(),g=f.updateStoriesContext;f=c("usePolarisStoriesFooter")(e,a);var h=f.canReply,k=f.canReshare,l=f.ctaUrl,m=f.handleShareStory,n=f.isViewingOwnStory,o=f.mediaId,p=f.onOpenCta,q=f.setToastMessage,r=f.storyOwnerId;f=f.toastMessage;k=k?i.jsx(c("PolarisStoryShareButton.react"),{currentPost:e,handleShareStory:m,referrer:"DesktopStoriesFooter"}):null;m=j(function(){g({isHighlightsTrayActive:!0})},[g]);var s=o.split("_"),t=s[0];s[1];s=d("react-redux-wwwig").useSelector(function(a){return d("PolarispostSelectors").doesViewerLikePost(a,t)});var u=c("PolarisuseStoryLikes")(t),v=d("PolarisadsSelectors").useStoryAdInfo(e==null?void 0:e.id,function(a){return a});b=(e==null?void 0:e.id)!=null?v==null?void 0:(b=v.ctaItems)==null?void 0:(b=b.get(e==null?void 0:e.id))==null?void 0:b.ctaLinkText:null;v=e.isSponsored&&b!=null&&l!=null?i.jsx(c("PolarisSponsoredStoriesFooterCTA.react"),{adInfo:v,ctaUrl:l,text:b}):i.jsx(c("PolarisDesktopStoriesFooterCTA.react"),{onOpenCta:p});if(r==null)return null;b=i.jsx(c("PolarisStoryReplyComposer.react"),{handleStoryLike:u,likedByViewer:s,mediaId:o,onSendMessage:function(){q(d("PolarisDirectStrings").SENT_TOAST_TEXT)},optionsElement:null,reelId:a.id,shareButton:k,storyOwnerId:r,supportsReelReactions:!n});r=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"_ac12",children:[h&&d("PolarisUA").isDesktop()&&b,!h&&d("PolarisUA").isDesktop()&&!n&&c("gkx")("5703")&&i.jsx("div",{className:"_ac13",children:i.jsx(c("PolarisLikeButton.react"),{color:"ig-stroke-on-media",isLiked:s,onChange:u})}),i.jsx(c("PolarisStoryViewerToast.react"),{message:f,onClose:function(){return q("")}})]}),i.jsx(c("PolarisStoryViewerButton.react"),{}),l!=null&&v,n&&a.type!==d("PolarisGraphQLTypes").GRAPH_HIGHLIGHT_REEL&&c("qex")._("129")===!0&&i.jsx(d("PolarisStoriesFooterHighlightButtons.react").PolarisAddStoryToHighlightButton,{iconVariant:((o=(p=e.highlightReelIds)==null?void 0:p.length)!=null?o:0)>0?"FILLED":"OUTLINE",onClick:m})]});b=i.jsxs("div",{className:"_ac0_",children:[l!=null&&v,i.jsx("div",{className:"_aec0",children:k}),i.jsx(c("PolarisStoryViewerToast.react"),{message:f,onClose:function(){return q("")}})]});return i.jsx("div",{className:"_ac11",children:e.isSponsored?b:r})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisCloseFriendsLabel.react",["cx","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreText","PolarisStoriesStrings","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.textSize==="small"?i.jsx(c("PolarisIGCoreText").Body2Emphasized,{color:"web-always-white",children:d("PolarisStoriesStrings").CLOSE_FRIENDS}):i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"web-always-white",children:d("PolarisStoriesStrings").CLOSE_FRIENDS});return i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a.onClick,children:i.jsx("div",{className:"_abwp _abwr",children:i.jsx(c("PolarisIGCoreBox"),{height:"100%",paddingX:2,paddingY:2,width:"100%",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisExclusiveStoryLabel.react",["cx","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreText","PolarisStoriesStrings","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.textSize==="small"?i.jsx(c("PolarisIGCoreText").Body2Emphasized,{color:"web-always-white",children:d("PolarisStoriesStrings").EXCLUSIVE_STORY}):i.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"web-always-white",children:d("PolarisStoriesStrings").EXCLUSIVE_STORY});return i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:a.onClick,children:i.jsx("div",{className:"_ac3m",children:i.jsx(c("PolarisIGCoreBox"),{height:"100%",paddingX:2,paddingY:2,width:"100%",children:b})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisSharedStoryHeaderInfo.react",["PolarisGenericStrings","PolarisIGCorePlayPanoFilledIcon","PolarisIGCoreSVGIconButton","PolarisIGCoreWebPauseFilledIcon","PolarisVideoConstants","PolarisVideoVolumeControls.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.isMuted,e=a.isPaused,f=a.isMusicAvailableInCountry,g=a.toggleStoryMuteState,i=a.toggleStoryPauseState;a=a.post;var j=a.isVideo===!0&&a.hasAudio===!0&&f===!0;return h.jsxs(h.Fragment,{children:[h.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(){i()},children:e?h.jsx(c("PolarisIGCorePlayPanoFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PLAY_BUTTON,color:"web-always-white",size:16}):h.jsx(c("PolarisIGCoreWebPauseFilledIcon"),{alt:d("PolarisGenericStrings").ASSISTIVE_TEXT_PAUSE_BUTTON,color:"web-always-white",size:16})}),h.jsx(c("PolarisVideoVolumeControls.react"),{absolutePositionToast:!1,audioState:j?b?d("PolarisVideoConstants").AUDIO_STATES.off:d("PolarisVideoConstants").AUDIO_STATES.on:d("PolarisVideoConstants").AUDIO_STATES.none,isStoryVideo:!0,onClick:function(){j&&g()}})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisInstagramReelViewerAppAttributionNavFalcoEvent",["PolarisFalcoLogger","gkx"],function(a,b,c,d,e,f,g){"use strict";var h={pigeon:!1,falco:!0};a=function(){function a(){}a.log=function(a){c("gkx")("4974")&&d("PolarisFalcoLogger").FalcoLogger.log("reel_viewer_app_attribution_nav",a(),{},h)};return a}();g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarismaybeBuildPlayStoreUrl",[],function(a,b,c,d,e,f){"use strict";function a(a){return!a.match(/^([A-Za-z]{1}[A-Za-z\d_]*\.)+[A-Za-z][A-Za-z\d_]*$/)?null:"https://play.google.com/store/apps/details?id="+a}f["default"]=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryAppAttribution.react",["cx","PolarisIGCoreButton","PolarisInstagramReelViewerAppAttributionNavFalcoEvent","PolarisNavigationUtils","PolarisStoryActions","PolarismaybeBuildPlayStoreUrl","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(){var a=e.props.attribution,b=a.content_url;a=a.link;if(b!=null&&b!=="")return b;if(a!=null&&a!==""){b=c("PolarismaybeBuildPlayStoreUrl")(a);return b||a}return null},e.$2=function(){var a=e.$1();if(a==null)return;e.props.onAttributionClick(e.props.attribution)},e.$3=function(){var a=e.props,b=a.attribution,f=a.containerModule,g=e.$1();c("PolarisInstagramReelViewerAppAttributionNavFalcoEvent").log(function(){return{app_name:b.name,attribution_id:b.id,destination:g||"",pigeon_reserved_keyword_module:f||"unknown"}});d("PolarisNavigationUtils").openExternalURL(c("nullthrows")(g),"stories")},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.props,b=a.attribution;a=a.isAppAttributionOpen;return i.jsxs("div",{className:"_ac3a",children:[i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"web-always-white",onClick:this.$2,children:i.jsxs("div",{className:"_ac3b",children:[i.jsx("img",{alt:"",className:"_ac3c",src:b.app_icon_url}),i.jsx("div",{className:"_ac3d",children:b.app_action_text}),i.jsx("div",{className:"_9znl"})]})}),a&&i.jsxs("div",{className:"_ac3e",children:[i.jsx("div",{className:"_ac3f"}),i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"web-always-white",onClick:this.$3,children:i.jsxs("div",{className:"_ac3g",children:["Open ",b.name]})})]})]})};return b}(i.Component);function a(a){return{isAppAttributionOpen:a.stories.isAppAttributionOpen,containerModule:d("PolarisstorySelectors").getContainerModuleFromEntrypoint(a.navigation.entrypoint[0])}}function b(a){return{onAttributionClick:function(b){a(d("PolarisStoryActions").openAppAttribution(b))}}}f=d("react-redux-wwwig").connect(a,b)(e);g["default"]=f},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoriesHeaderOwnerV2.react",["cx","PolarisEligibleForCommissionUnit.react","PolarisGroupProfileAvatar.react","PolarisGroupProfileUtils","PolarisHashtagLink.react","PolarisIGCoreBox","PolarisLocationAvatar.react","PolarisLocationLink.react","PolarisSponsoredLabel.react","PolarisSponsorsUnit.react","PolarisStoriesStrings","PolarisStoryAppAttribution.react","PolarisTagAvatar.react","PolarisTimestamp.react","PolarisTransparencyLabel.react","PolarisTransparencyUtils","PolarisUserAvatar.react","PolarisUserLink.react","PolarisadsSelectors","PolarisstorySelectors","Polarisunexpected","nullthrows","react","react-redux"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={whiteText:{color:"pgg6evsx"}};function k(a){var b=a.appAttribution,e=a.closeFriends,f=a.exclusiveStory,g=a.isAffiliate,h=a.isPaidPartnership,k=a.postedAt,l=a.reel,m=a.sponsors;m=m===void 0?null:m;var n=a.title,o=a.reelOwner;a=a.postAuthor;var p=d("react-redux").useSelector(d("PolarisstorySelectors").getCurrentPostId);p=d("PolarisadsSelectors").useStoryAdInfo(p,function(a){return a});return i.jsxs("div",{className:"_ac0o",children:[d("PolarisGroupProfileUtils").getIsUserGroupProfile(o)===!0?i.jsx(c("PolarisGroupProfileAvatar.react"),{groupProfile:o,postAuthor:a}):i.jsx(c("PolarisUserAvatar.react"),{className:"_ac0p",profilePictureUrl:c("nullthrows")(o.profilePictureUrl),size:32,username:o.username}),i.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"column",marginStart:2,children:[i.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"row",children:[i.jsx("div",{className:"_ac0q"+(e||f?" _ac0r":""),children:i.jsx(c("PolarisUserLink.react"),{className:"_ac0s",username:c("nullthrows")(o.username),children:n})}),i.jsx(c("PolarisTimestamp.react"),{className:"_ac0t",isLong:!1,value:k})]}),d("PolarisTransparencyUtils").shouldShowTransparencyLabel(o)&&i.jsx(c("PolarisTransparencyLabel.react"),{className:"_ac0u _ac0s",mediaId:l.id,screen:"stories",user:o}),(p==null?void 0:p.label)!=null&&i.jsx(c("PolarisSponsoredLabel.react"),{label:p==null?void 0:p.label,xstyle:j.whiteText}),h&&i.jsx(c("PolarisSponsorsUnit.react"),{className:"_ac0s",color:"white",sponsors:m||[]}),!h&&g&&i.jsx(c("PolarisEligibleForCommissionUnit.react"),{className:"_ac0s"}),b&&i.jsx(c("PolarisStoryAppAttribution.react"),{attribution:b}),d("PolarisGroupProfileUtils").getIsUserGroupProfile(o)===!0&&a.username!=null&&d("PolarisGroupProfileUtils").getIsGroupProfileStoryAttributionEnabled()&&i.jsx(c("PolarisUserLink.react"),{className:"_ac0w _ac0s",username:c("nullthrows")(a.username),children:d("PolarisGroupProfileUtils").getGroupMediaPostAuthorAttributionText(c("nullthrows")(a.username))})]})]})}k.displayName=k.name+" [from "+f.id+"]";function l(a){var b=a.postAuthor,e=a.postedAt,f=a.reel,g=a.reelOwner;a=a.viewingOwnStory;return i.jsxs("div",{className:"_ac0o",children:[f.ownerType==="GraphHashTag"&&i.jsx(c("PolarisTagAvatar.react"),{profilePictureUrl:c("nullthrows")(g.profilePictureUrl),size:30,tagName:c("nullthrows")(f.tagName)}),f.ownerType==="GraphLocation"&&i.jsx(c("PolarisLocationAvatar.react"),{locationId:c("nullthrows")(f.locationId),profilePictureUrl:c("nullthrows")(g.profilePictureUrl),size:30}),i.jsxs(c("PolarisIGCoreBox"),{alignItems:"start",direction:"column",marginStart:2,children:[i.jsxs("div",{className:"_ac0q",children:[f.ownerType==="GraphHashTag"&&i.jsx(c("PolarisHashtagLink.react"),{className:"_ac0v _ac0s",tag:c("nullthrows")(f.tagName)}),f.ownerType==="GraphLocation"&&i.jsx(c("PolarisLocationLink.react"),{className:"_ac0v _ac0s",location:g}),i.jsx(c("PolarisIGCoreBox"),{marginStart:2,children:i.jsx(c("PolarisTimestamp.react"),{className:"_ac0t",isLong:!1,value:e})})]}),i.jsx(c("PolarisUserLink.react"),{className:"_ac0w _ac0s",username:c("nullthrows")(b.username),children:a?d("PolarisStoriesStrings").YOUR_STORY_TEXT:c("nullthrows")(b.username)})]})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.appAttribution,d=a.closeFriends,e=a.currentReelItemIndex,f=a.exclusiveStory,g=a.isAffiliate,h=a.isPaidPartnership,j=a.reelOwner,m=a.postedAt,n=a.reel,o=a.sponsors,p=a.title,q=a.postAuthor;a=a.viewingOwnStory;switch(n.ownerType){case"GraphUser":return i.jsx(k,{appAttribution:b,closeFriends:d,currentReelItemIndex:e,exclusiveStory:f,isAffiliate:g,isPaidPartnership:h,postAuthor:q,postedAt:m,reel:n,reelOwner:j,sponsors:o,title:p,viewingOwnStory:a});case"GraphLocation":case"GraphHashTag":return i.jsx(l,{postAuthor:q,postedAt:m,reel:n,reelOwner:j,viewingOwnStory:a})}c("Polarisunexpected")("Owner type must be User or Hashtag");return null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("InstagramAdActionMenuFalcoEvent",["FalcoLoggerInternal","getFalcoLogPolicy_DO_NOT_USE"],function(a,b,c,d,e,f){"use strict";a=b("getFalcoLogPolicy_DO_NOT_USE")("3374");c=b("FalcoLoggerInternal").create("instagram_ad_action_menu",a);e.exports=c},null,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisIGCoreMoreHorizontalFilledIcon",["PolarisIGCoreSVGIcon","react"],function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("circle",{cx:"12",cy:"12",r:"2.75"}),h.jsx("circle",{cx:"19.5",cy:"12",r:"2.75"}),h.jsx("circle",{cx:"4.5",cy:"12",r:"2.75"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryOptionsButton.react",["fbt","InstagramAdActionMenuFalcoEvent","PolarisContainerModuleUtils","PolarisIGCoreMoreHorizontalFilledIcon","PolarisIGCoreSVGIconButton","PolarisStoriesLoggingUtils","PolarisViewpointActionUtils","PolarisadsSelectors","PolarisuseAnalyticsContext","PolarisuserSelectors","react","react-redux"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.onClick,e=a.post,f=a.reel,g=d("PolarisadsSelectors").useStoryAdInfo(e.id,function(a){return a}),j=c("PolarisuseAnalyticsContext")(),k=d("react-redux").useSelector(function(a){return a.stories.traySession}),l=d("react-redux").useSelector(function(a){return a.stories.viewerSession}),m=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData();a=d("PolarisuserSelectors").useUser(f.userId);var n=d("PolarisViewpointActionUtils").getMPKForStoryMedia(e.id,a);e=function(){b(),f.isSponsored===!0&&c("InstagramAdActionMenuFalcoEvent").log(function(){return{ad_id:g==null?void 0:g.ad_id,m_pk:n,source_of_action:d("PolarisContainerModuleUtils").getContainerModule(j),tracking_token:g==null?void 0:g.tracking_token,reel_id:f.id,session_reel_counter:m.reelCounter.toString(),tray_session_id:k,viewer_session_id:l,is_coming_from:"story"}})};return i.jsx("div",{children:i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:e,children:i.jsx(c("PolarisIGCoreMoreHorizontalFilledIcon"),{alt:h._("Menu"),color:"web-always-white",size:24})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryProgressBars.react",["cx","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(){return i.jsxs("div",{className:"_ac3n",children:[i.jsx("div",{className:"_ac3o"}),i.jsx("div",{className:"_ac3p",style:{width:"100%"}})]})}j.displayName=j.name+" [from "+f.id+"]";function k(){return i.jsx("div",{className:"_ac3n",children:i.jsx("div",{className:"_ac3o"})})}k.displayName=k.name+" [from "+f.id+"]";function l(a){a=a.percentage;return i.jsxs("div",{className:"_ac3n",children:[i.jsx("div",{className:"_ac3o"}),i.jsx("div",{className:"_ac3p _ac3q",style:{width:a+"%"}})]})}l.displayName=l.name+" [from "+f.id+"]";function a(a){var b=a.count,c=a.currentIndex,d=a.percentage;return i.jsx("div",{className:"_ac3r",children:Array.from(Array(b).keys()).map(function(a){if(a<c)return i.jsx(j,{},a);else if(a>c)return i.jsx(k,{},a);else return i.jsx(l,{percentage:d},a)})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesHeaderV2.react",["cx","PolarisCloseFriendsLabel.react","PolarisExclusiveStoryLabel.react","PolarisIGCoreBox","PolarisSharedStoryHeaderInfo.react","PolarisStoriesHeaderOwnerV2.react","PolarisStoriesProvider.react","PolarisStoryOptionsButton.react","PolarisStoryProgressBars.react","PolarisstorySelectors","PolarisuserSelectors","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.currentReelItemIndex,e=a.itemCount,f=a.onModalOpen,g=a.playPercentage,h=a.reel,j=a.trayEntrypoint,k=a.reelOwner,l=a.post;a=a.postAuthor;var m=d("react-redux-wwwig").useSelector(d("PolarisuserSelectors").getViewer),n=d("PolarisStoriesProvider.react").useStoriesContext(),o=n.isMusicAvailableInCountry,p=n.isMuted,q=n.isPaused,r=n.needsTapToStart,s=n.postIDThatShouldShowSensitiveContentOverlay,t=n.updateStoriesContext;n=m!=null&&a.id===m.id;var u=l.audience==="MediaAudience.BESTIES",v=l.audience==="MediaAudience.FAN_CLUB";s=s==null&&!r;return i.jsxs("header",{className:"_ac0k",children:[i.jsx(c("PolarisStoryProgressBars.react"),{count:e,currentIndex:b,percentage:g}),i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",display:"flex",justifyContent:"between",children:[i.jsx("div",{className:"_ac0l",children:i.jsx(c("PolarisStoriesHeaderOwnerV2.react"),{appAttribution:l.storyAppAttribution,audience:l.audience,closeFriends:u,currentReelItemIndex:b,exclusiveStory:v,isAffiliate:l.isAffiliate===!0,isPaidPartnership:l.isPaidPartnership===!0,postAuthor:a,postedAt:c("nullthrows")(l.postedAt),reel:h,reelOwner:k,sponsors:l.sponsors,title:(r=d("PolarisstorySelectors").getReelTitle(h,k,l.owner,m==null?void 0:m.id,!1))!=null?r:"",trayEntrypoint:j,viewingOwnStory:n})}),i.jsx("div",{className:"_ac0m",children:s&&i.jsxs(i.Fragment,{children:[u&&i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",children:[i.jsx(c("PolarisCloseFriendsLabel.react"),{onClick:function(){t({isCloseFriendsDialogActive:!0})},textSize:"small"}),i.jsx(c("PolarisIGCoreBox"),{marginEnd:2})]}),v&&i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",children:[i.jsx(c("PolarisExclusiveStoryLabel.react"),{onClick:function(){t({isExclusiveStoryDialogActive:!0})},textSize:"small"}),i.jsx(c("PolarisIGCoreBox"),{marginEnd:2})]}),i.jsx(c("PolarisSharedStoryHeaderInfo.react"),{isMusicAvailableInCountry:o,isMuted:p,isPaused:q,post:l,toggleStoryMuteState:function(){t({isMuted:!p})},toggleStoryPauseState:function(){t({isPaused:!q})}}),i.jsx(c("PolarisStoryOptionsButton.react"),{onClick:f,post:l,reel:h})]})})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoriesAppInstallDialog.react",["fbt","IGCoreDialog","PolarisConfig","PolarisConfigConstants","PolarisIGCoreButton","PolarisLogger","PolarisODS","PolarisOpenInApp","PolarisnavigationSelectors","gkx","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=h._("Get the app to use stickers"),k=h._("You can create and react to stickers in the Instagram app.");h._("You can create and react to stickers in the Instagram app. Enter your phone number and we'll send you a free download link.");var l=h._("Get the App"),m=h._("Not Now"),n=h._("OK");b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),j=0;j<f;j++)g[j]=arguments[j];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=function(a){a.preventDefault(),c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesStickerUnsupportedAppsellClick",{stickerType:e.props.fallbackType,medium:"installLink",platform:d("PolarisConfig").getAppPlatform(),source:"storySticker"}),c("PolarisODS").incr("web.stories.stories_sticker_unsupported_appsell_click"),d("PolarisOpenInApp").flushLogsAndOpenInApp(e.props.android,e.props.ios,e.props.originalPath)},e.$2=function(){c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesStickerUnsupportedAppsellDismiss",{stickerType:e.props.fallbackType}),c("PolarisODS").incr("web.stories.stories_sticker_unsupported_appsell_dismiss"),e.props.onClose()},e.$3=function(){return h._("You can create and react to stickers in the Instagram app. Get it for free from the {app store} or the {play store} .",[h._param("app store",i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:e.$1,target:"_blank",children:h._("App Store")})),h._param("play store",i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:e.$1,target:"_blank",children:h._("Play Store")}))])},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=d("PolarisConfig").getAppPlatform();switch(a){case d("PolarisConfigConstants").appPlatformTypes.ANDROID:case d("PolarisConfigConstants").appPlatformTypes.IOS:return i.jsxs(d("IGCoreDialog").IGCoreDialog,{body:k,onModalClose:this.$2,title:j,children:[i.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:this.$1,children:l}),i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:m})]});default:return i.jsx(d("IGCoreDialog").IGCoreDialog,{body:this.$3(),onModalClose:this.$2,title:j,children:i.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:this.$2,children:n})})}};return b}(i.Component);function a(a){return babelHelpers["extends"]({},d("PolarisnavigationSelectors").getDeepLink__DEPRECATED(a))}e=d("react-redux-wwwig").connect(a)(b);g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryTappablePopup.react",["cx","fbt","PolarisGuideLogger","PolarisGuideStrings","PolarisLinkBuilder","PolarisLogger","PolarisNavigationUtils","PolarisODS","Polarisunexpected","browserHistory","gkx","nullthrows","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=a.onTagClick;a=a.tappedObject;var e=function(a){var e=null,f=function(){return null};switch(a.type){case"GraphTappableHashtag":a.attribution!=null&&a.customTitle!=null?e=j.jsxs(j.Fragment,{children:[j.jsx("div",{children:a.customTitle}),j.jsx("div",{className:"_ac5q",children:a.attribution})]}):e=i._("See hashtag");f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildTagLink(c("nullthrows")(a.hashtagName)))};break;case"GraphTappableLocation":e=i._("See location");f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildLocationLink({slug:"",id:c("nullthrows")(a.locationId)}))};break;case"GraphTappableMention":e=a.mentionFullname!=null&&a.mentionFullname!==""?a.mentionFullname:a.mentionUsername;f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildUserLink(c("nullthrows")(a.mentionUsername)))};break;case"TappableLink":e=i._("Visit link");c("PolarisODS").incr("web.stories.link_sticker.view");f=function(){c("PolarisODS").incr("web.stories.link_sticker.clicks"),d("PolarisNavigationUtils").openExternalURL(d("PolarisLinkBuilder").buildWebLink(c("nullthrows")(a.url)))};break;case"GraphTappableFeedMedia":e=i._("See post");f=function(){d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildMediaLink(c("nullthrows")(a.feedPostShortcode)))};break;case"GraphTappableGuide":e=d("PolarisGuideStrings").VIEW_GUIDE_STORY_CTA,f=function(){d("PolarisGuideLogger").logGuideEntry({entryPoint:"story",guideID:c("nullthrows")(a.guideId)}),c("gkx")("3711")||d("PolarisLogger").logAction_DEPRECATED("guideStoryClick"),c("PolarisODS").incr("web.guide.story.click"),d("browserHistory").browserHistory.push(d("PolarisLinkBuilder").buildGuideLink(c("nullthrows")(a.guideOwnerUsername),c("nullthrows")(a.guideTitle),c("nullthrows")(a.guideId)))}}f===null&&(f=function(){c("Polarisunexpected")("Tappable object type should be hashtag, location, or mention")});return{content:e,onClick:function(a){a.stopPropagation(),f(),b&&b(a)}}},f=c("nullthrows")(a.x)*100,g=c("nullthrows")(a.y)*100;f={left:f+"%",top:g+"%"};g=e(a);e=g.content;a=g.onClick;return j.jsxs("div",{className:"_ac5r",style:f,children:[j.jsxs("div",{className:"_ac5s",onClick:a,role:"dialog",children:[j.jsx("div",{className:"_ac5t",children:e}),j.jsx("div",{className:"_9znl"})]}),j.jsx("div",{className:"_ac5u"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisTappableObjectStoryPollOptionBackground.react",["cx","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.optionProportion,c=a.optionValue;a=a.userChoice;c=c===a;return i.jsx("div",{className:"_ac3i"+(c?" _ac3j":""),style:a!=null?{flex:b}:null,children:i.jsx("div",{className:"_ac3k"+(c?" _ac3l":"")})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisTappableObjectStoryPollOptionText.react",["cx","PolarisEmojiHelper","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a,b){return i.jsx("span",{className:"_ac46",children:a},a+"-"+b)}j.displayName=j.name+" [from "+f.id+"]";function a(a){var b=a.fontSize,c=a.height,e=a.label,f=a.onOptionSelected,g=a.optionProportion,h=a.optionValue,k=a.userChoice;a=a.width;e=e;var l=Math.round(g*100)+"%";k!=null&&g===0?(e="",l=""):k==null&&(l="");var m=c/(-.1022*b+5.675);return i.jsxs("div",{className:"_ac42",onClick:function(){f(h)},role:"button",style:{flex:k!=null?g:1,marginTop:c*(.00414*b-.027)+"px",minWidth:(g!==0?25:0)+"%",pointerEvents:k!=null?"none":"auto"},tabIndex:"0",children:[i.jsx("div",{className:"_ac43"+(h===0?" _ac44":"")+(h!==0?" _ac45":""),style:{maxWidth:a/2,fontSize:k!=null?m*.55:m},children:d("PolarisEmojiHelper").splitStrWithEmoji(e,j)}),i.jsx("div",{className:"_ac47"+(k!=null?" _ac48":""),style:k!=null?{fontSize:c/3+"px",top:"-"+c/8+"px"}:null,children:l})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisTappableObjectStoryPoll.react",["cx","JSResourceForInteraction","PolarisStoryActions","PolarisTappableObjectStoryPollOptionBackground.react","PolarisTappableObjectStoryPollOptionText.react","Polarisprefix","nullthrows","react","react-redux-wwwig","xigRequireInterop"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useState;c("JSResourceForInteraction")("PolarisAvenyFont").__setRef("PolarisTappableObjectStoryPoll.react").load().then(function(a){return c("xigRequireInterop")(a)});function a(a){var b=a.height,e=a.object,f=a.rotation;a=a.width;var g=e.pollViewerVote;g===null&&e.pollViewerCanInteract===!1&&(g=0);g=k(g);var h=g[0],l=g[1],m=d("react-redux-wwwig").useDispatch();g=h===0;var n=h===1,o=j(function(a){var b=e.pollId;if(h!=null||b==null||b==="")return;m(d("PolarisStoryActions").voteOnStoryPoll(b,a));l(a)},[m,e,h]),p=e.pollTallies;g=c("nullthrows")(p)[0].count+(e.pollViewerVote===null&&g&&1);p=c("nullthrows")(p)[1].count+(e.pollViewerVote===null&&n&&1);n=g+p;g=g/n;p=p/n;return i.jsxs("div",{className:"_ac54",style:c("Polarisprefix")({transform:"rotate("+f+"rad)"}),children:[i.jsxs("div",{className:"_ac55",children:[i.jsx(c("PolarisTappableObjectStoryPollOptionText.react"),{fontSize:c("nullthrows")(e.pollOptionAFontSize),height:b,label:c("nullthrows")(e.pollOptionA),onOptionSelected:o,optionProportion:g,optionValue:0,userChoice:h,width:a}),i.jsx(c("PolarisTappableObjectStoryPollOptionText.react"),{fontSize:c("nullthrows")(e.pollOptionBFontSize),height:b,label:c("nullthrows")(e.pollOptionB),onOptionSelected:o,optionProportion:p,optionValue:1,userChoice:h,width:a})]}),i.jsx(c("PolarisTappableObjectStoryPollOptionBackground.react"),{optionProportion:g,optionValue:0,userChoice:h}),i.jsx("div",{className:"_ac56"}),i.jsx(c("PolarisTappableObjectStoryPollOptionBackground.react"),{optionProportion:p,optionValue:1,userChoice:h})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisTappableObjectContainer.react",["cx","PolarisLogger","PolarisODS","PolarisTappableObjectStoryPoll.react","Polarisprefix","gkx","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect;function a(a){var b=a.id,e=a.isEnabled,f=a.mediaLayout,g=a.object,h=a.onTappableClick;k(function(){g.type==="GraphTappableFallback"&&(c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesStickerUnsupportedRendered",{stickerType:g.fallbackType}),c("PolarisODS").incr("web.stories.stories_sticker_unsupported_rendered"))},[g]);a=j(function(a){a.stopPropagation(),g.type==="GraphTappableFallback"?(c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesStickerUnsupportedClick",{stickerType:g.fallbackType,appsellShown:!0}),c("PolarisODS").incr("web.stories.stories_sticker_unsupported_click"),h(b)):h(b)},[g,b,h]);var l=function(d,a,b){switch(g.type){case"GraphTappableStoryPoll":return i.jsx(c("PolarisTappableObjectStoryPoll.react"),{height:b,object:g,rotation:d,width:a});default:return null}},m=g.width*f.layoutWidth,n=g.height*f.layoutHeight,o=.5*m,p=.5*n;o=g.x*f.layoutWidth-o;f=g.y*f.layoutHeight-p;p=g.rotation*Math.PI*2;o={left:o+"px",top:f+"px",width:m+"px",height:n+"px"};return i.jsxs("div",{className:"_abwz",style:o,children:[i.jsx("div",{className:"_abw-"+(e?" _abw_":""),onClick:a,role:"button",style:c("Polarisprefix")({transform:"rotate("+p+"rad)"}),tabIndex:"0"}),l(p,m,n)]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryTappableObjects.react",["cx","fbt","PolarisIGBloksAsyncAppLauncher","PolarisStoriesAppInstallDialog.react","PolarisStoriesContext","PolarisStoryActionTypes","PolarisStoryActions","PolarisStoryTappablePopup.react","PolarisTappableObjectContainer.react","PolarisstorySelectors","cr:2333","cr:2334","immutable-4.0.0-rc.9","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");e=d("react");var k=e.useContext,l=e.useMemo,m=e.useState,n=function(a){var b=a.tappableObjectById,d=a.isPlaying,e=a.mediaLayout,f=a.handleTappableClick,g=a.tappedObjectId;return Object.keys(b).map(function(a){var h=b[a];return j.jsx(c("PolarisTappableObjectContainer.react"),{id:a,isEnabled:d||!!g,mediaLayout:e,object:h,onTappableClick:f},a)})},o=function(a){var b=a.tappableObjectById,e=a.tappedObjectId;a=a.tappedObjectTimestamp;var f=d("react-redux-wwwig").useDispatch();if(e==null||e==="")return null;b=b[e];if(b==null)return null;e=e+"_"+c("nullthrows")(a);if(b.type==="GraphTappableFallback")return j.jsx(c("PolarisStoriesAppInstallDialog.react"),{fallbackType:b.fallbackType,onClose:function(){f(d("PolarisStoryActions").resumeStorySession())}});return b.type==="BloksTappable"||b.type==="BloksSticker"?null:j.jsx(c("PolarisStoryTappablePopup.react"),{tappedObject:b},e)},p=function(a){var b=a.tappableObjectById,e=a.tappedObjectId;a=a.tappedObjectTimestamp;var f=d("react-redux-wwwig").useDispatch();if(e==null||e===""||a==null)return null;b=b[e];if(b==null)return null;e=e+"_"+a;if(b.type!=="BloksTappable")return null;a=b.bloks_app;return j.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:a,onResumeStoryPlayback:function(){f(d("PolarisStoryActions").resumeStorySession())},params:b.bloks_params},e)},q=function(a){var c=a.tappableObjectById,d=a.tappedObjectId;a=a.tappedObjectTimestamp;if(d==null||d===""||a==null)return null;c=c[d];if(c==null)return null;d=d+"_"+a;a=c.bloks_app;if(c.type!=="BloksSticker"||a==null)return null;var e={top:c.y*100+"%",left:c.x*100+"%",position:"relative",zIndex:2},f=null;if(b("cr:2333")!=null){var g;f=j.jsx(b("cr:2333"),{allowScreenOverflow:!0,appId:a,loadingFallback:j.jsx("div",{}),options:{cached:!0},params:c.bloks_params,props:new Map(Object.entries((g=c.bloks_props)!=null?g:{}))},d)}else b("cr:2334")!=null&&(f=j.jsx(b("cr:2334"),{appId:a,fallback:j.jsx("div",{}),options:{cached:!0},params:c.bloks_params,props:c.bloks_props},d));return j.jsx("div",{style:e,children:f})};function a(a){var b=a.isPlaying;a=a.mediaLayout;var c=d("react-redux-wwwig").useDispatch(),e=k(d("PolarisStoriesContext").StoriesContext),f=m(Date.now()),g=f[0],h=f[1],r=d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getCurrentPostId(a)}),s=d("react-redux-wwwig").useSelector(function(a){return r==null?new(d("immutable-4.0.0-rc.9").List)():a.stories.tappableObjectsByPostId.get(r)});f=d("react-redux-wwwig").useSelector(function(a){return r==null?null:a.stories.tappedObjectId});var t=l(function(){var a={};s!=null&&s.forEach(function(b,c){a[""+c]=babelHelpers["extends"]({},b)});return a},[s]),u=function(a){h(Date.now()),c({type:d("PolarisStoryActionTypes").STORY_SET_TAPPED_OBJECT,tappedObjectId:a})};return j.jsxs("div",{"aria-label":i._("Cancel Pop-up"),className:"_ac57"+(f?" _ac58":""),onClick:function(){c(d("PolarisStoryActions").resumeStorySession())},role:"button",style:e.mediaDimensions,tabIndex:"0",children:[j.jsx(n,{handleTappableClick:u,isPlaying:b,mediaLayout:a,tappableObjectById:t,tappedObjectId:f}),j.jsx(o,{tappableObjectById:t,tappedObjectId:f,tappedObjectTimestamp:g}),j.jsx(p,{tappableObjectById:t,tappedObjectId:f,tappedObjectTimestamp:g}),j.jsx(q,{tappableObjectById:t,tappedObjectId:f,tappedObjectTimestamp:g})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoryEventZone.react",["cx","Keys","PolarisDOMListener.react","PolarisStoriesProvider.react","PolarisStoryTappableObjects.react","nullthrows","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=a.onPause,e=a.onPlay,f=a.isFirstStory,g=a.isPlaying,h=a.onPrev,k=a.onNext,l=a.onNextReel,m=a.onPrevReel,n=a.onClose,o=a.mediaLayout;a=a.tappableStickersEligible;var p=d("PolarisStoriesProvider.react").useStoriesContext(),q=p.updateStoriesContext;p=function(a){a.preventDefault()};var r=j(function(a){q({isPaused:!0}),b(a)},[q,b]),s=j(function(a){q({isPaused:!1}),e(a)},[q,e]),t=j(function(a){var b=a.which;!f&&!a.altKey&&b===c("Keys").LEFT?h():!a.altKey&&b===c("Keys").RIGHT?k("tap_forward"):!a.altKey&&b===c("Keys").UP?m():!a.altKey&&b===c("Keys").DOWN?l("swipe_forward"):!a.altKey&&b===c("Keys").ESC?n():!a.altKey&&b===c("Keys").SPACE&&(g?r(a):s(a),a.preventDefault())},[f,h,k,m,l,n,g,r,s]),u=function(a){a.button===0&&r(a)},v=function(a){a.button===0&&s(a)},w=function(a){r(a)},x=function(a){a.touches.length===0&&s(a)};return i.jsxs("div",{className:"_ac0x",children:[i.jsx("div",{className:"_ac0y",onContextMenu:p,onMouseDown:u,onMouseUp:v,onTouchEnd:x,onTouchStart:w,role:"dialog",children:i.jsx(c("PolarisDOMListener.react"),{event:"keyup",handler:t,target:window})}),a&&o!=null&&i.jsx(c("PolarisStoryTappableObjects.react"),{isPlaying:g,mediaLayout:c("nullthrows")(o)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisLoggedOutAppUpsellCard.react",["PolarisIGCoreBox","PolarisIgLiteCarbonUpsellsUtils","PolarisLoggedOutAppUpsellInnerContent.react","PolarisLoggedOutContextualLoginText.react","PolarisLoggedOutCtaLogger","react","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect;function a(a){var b=a.intentSource==="view_highlight"?"highlight_upsell":"story_interstitial",e=d("react-redux-wwwig").useSelector(function(a){return a.navigation.loggedOutIntentUsername}),f=d("PolarisIgLiteCarbonUpsellsUtils").isIgLiteCarbonUpsellsEligible(),g=f?"instagramlitecarbon":"app_upsell",j=d("react-redux-wwwig").useSelector(function(a){return a.navigation.pageIdentifier});i(function(){d("PolarisLoggedOutCtaLogger").logLoggedOutCtaEvent(babelHelpers["extends"]({ctaType:b,ctaVersion:g,eventName:"impression"},j!=null&&{module:j}))},[g,b,j]);return h.jsxs(c("PolarisIGCoreBox"),{"data-testid":void 0,justifyContent:"center",margin:"auto",children:[h.jsx(c("PolarisLoggedOutContextualLoginText.react"),{intentSource:a.intentSource,triggeringPageType:a.triggeringPageType,username:e}),h.jsx(c("PolarisIGCoreBox"),{margin:5,children:h.jsx(c("PolarisIGCoreBox"),{color:"web-always-white",flex:"shrink",shape:"extra-rounded",width:a.intentSource==="view_highlight"?300:260,children:h.jsx(c("PolarisLoggedOutAppUpsellInnerContent.react"),{ctaType:b,ctaVersion:g,intentSource:a.intentSource,triggeringPageType:a.triggeringPageType,triggeringUserPicUrl:a.triggeringUserPicUrl,triggeringUserUsername:a.triggeringUserUsername})})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisLoggedOutStoryUpsell.react",["CometImage.react","PolarisIGCoreBox","PolarisLoggedOutAppUpsellCard.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b;return h.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"column",justifyContent:"center",width:"100%",children:[h.jsx(c("CometImage.react"),{height:(b=a.post.dimensions)==null?void 0:b.height,src:"/images/instagram/xig/stories/mobile-login-background.png",width:(b=a.post.dimensions)==null?void 0:b.width}),h.jsx(a.eventZone,{isFirstStory:a.isFirstStory,isPlaying:!0,isVideo:!1,onClose:a.onClose,onNext:function(){},onNextReel:function(){},onPause:function(){},onPlay:function(){},onPrev:function(){},onPrevReel:function(){},onResume:function(){},showVideoPlayButton:!1,tappableStickersEligible:!1}),h.jsx(c("PolarisIGCoreBox"),{bottom:!1,direction:"column",flex:"shrink",left:!1,position:"absolute",right:!1,top:!1,children:h.jsx(c("PolarisLoggedOutAppUpsellCard.react"),{intentSource:"view_highlight",triggeringPageType:"highlight",triggeringUserPicUrl:(b=a.post.owner)==null?void 0:b.profilePictureUrl})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryExpired.react",["cx","fbt","emptyFunction","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=i._("This story is no longer available");function a(a){var b=a.eventZone,d=a.isFirstStory,e=a.onClose,f=a.onPrev,g=a.onPrevReel,h=a.onNext;a=a.onNextReel;var i=c("emptyFunction"),l=c("emptyFunction"),m=c("emptyFunction");return j.jsxs("div",{className:"_abwn",children:[j.jsx("p",{className:"_abwo",children:k}),j.jsx(b,{isFirstStory:d,isPlaying:!0,isVideo:!1,onClose:e,onNext:h,onNextReel:a,onPause:l,onPlay:i,onPrev:f,onPrevReel:g,onResume:m,showVideoPlayButton:!1,tappableStickersEligible:!1})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryMediaDebugger.prerelease",["cx","PolarisNetworkInfo","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){var b=a.currentSrc,c=a.imageResources;a=a.videoResources;return i.jsxs(i.Fragment,{children:[i.jsx("p",{children:"Available Qualities"}),i.jsx("ul",{className:"_ac4a",children:(c=(c=c)!=null?c:a)==null?void 0:c.map(function(a){var c=a.src===b;return i.jsx("li",{className:c?"_ac4b":"",children:i.jsxs("p",{children:[a.configWidth,"w x ",a.configHeight,"h"]})})})})]})}function a(a){var b,c=a.imageRef;c=c===void 0?null:c;var e=a.post;a=a.videoRef;a=a===void 0?null:a;var f="";c!=null&&(f=c.currentSrc);a!=null&&(f=a.currentSrc);return i.jsxs("div",{className:"_ac49",children:[i.jsxs("p",{children:["Media type: ",c==null?"Video":"Image"]}),i.jsxs("p",{children:["Post ID: ",e.id]}),i.jsxs("p",{children:["Has audio: ",e.hasAudio===!0?"true":"false"]}),i.jsxs("p",{children:["Browser Bandwidth Estimate: ",(b=d("PolarisNetworkInfo").getNavigatorConnection())==null?void 0:b.downlink," Mbps"]}),c!==null&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Element Size: ",c==null?void 0:c.width,"w x ",c==null?void 0:c.height,"h"]}),i.jsx(j,{currentSrc:f,imageResources:e.displayResources})]}),a!==null&&i.jsxs(i.Fragment,{children:[i.jsxs("p",{children:["Element Size: ",a==null?void 0:a.clientWidth,"w x ",a==null?void 0:a.clientHeight,"h"]}),i.jsx(j,{currentSrc:f,videoResources:e.videoResources})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryPreview.react",["cx","PolarisIGCoreSpinner","PolarisPreviewPhoto.react","joinClasses","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.className,e=a.dimensions;a=a.mediaPreview;return i.jsxs("div",{className:c("joinClasses")(b,"_ac59"),children:[a!=null&&a!==""&&i.jsx(d("PolarisPreviewPhoto.react").PreviewPhoto,{dimensions:e,previewData:a}),i.jsx(c("PolarisIGCoreSpinner"),{position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryImage.react",["cx","PolarisEventLoop","PolarisIGCoreBox","PolarisResponsiveImage.react","PolarisStoriesLoggingUtils","PolarisStoryMediaDebugger.prerelease","PolarisStoryMediaLayout.react","PolarisStoryPerformanceLogger","PolarisStoryPreview.react","PolarisStyleConstants","PolarisUA","PolarisdeveloperSettings","PolarisuseIGCorePreviousValue","PolariswithRemountOnChange","joinClasses","nullthrows","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");e=d("react");var j=e.useCallback,k=e.useEffect,l=e.useRef,m=e.useState;function a(a){var b=a.eventZone,e=a.isFirstStory,f=a.isInitialLoad,g=a.isPlaybackDisabled,h=a.isTransitioning,n=a.onClose,o=a.onNext,p=a.onNextReel,q=a.onPause,r=a.onPlay,s=a.onPostSeen,t=a.onPrev,u=a.onPrevReel,v=a.onUpdatePlayPercentage,w=a.post,x=a.reelId,y=a.viewerDimensions;a=a.mediaRef;var z=m(!1),A=z[0],B=z[1];z=m(!1);var C=z[0],D=z[1];z=m(null);var E=z[0],F=z[1];E=0;var G,H,I=c("PolarisuseIGCorePreviousValue")(g),J=l(H),K=j(function(){J.current!=null&&(c("PolarisEventLoop").clearInterval(J.current),J.current=null)},[J]),L=function(){K(),o("automatic_forward")},M=j(function(){if(!C)return;D(!1)},[C]),N=j(function(){if(g||!A||C)return;D(!0)},[A,g,C,D]),O=function(){N()},P=function(a,b){f!=null&&f===!0&&(d("PolarisStoryPerformanceLogger").StoryViewerPerformanceLogger.onMediaReady({isMediaPrefetched:b||!1,mediaType:1,reelId:String(x)}),d("PolarisStoryPerformanceLogger").StoryNavigationPerformanceLogger.onMediaReady({isMediaPrefetched:b||!1,reelId:String(x)})),s(),B(!0)};k(function(){g&&I===!1&&!h?M():!g&&I===!0&&!h&&N()},[g,h,M,N,I]);k(function(){return function(){G&&(G.onload=null),K()}},[]);var Q=l(E),R=j(function(){if(J.current!=null)return;J.current=c("PolarisEventLoop").setInterval(function(){Q.current+=c("PolarisStyleConstants")["story-progressbar-update-tick"].value;var a=Q.current*100/c("PolarisStyleConstants")["story-image-duration"].value;a=Math.min(a,100);v(a);a===100&&L()},c("PolarisStyleConstants")["story-progressbar-update-tick"].value*1e3)},[J,v,L,Q]),S=c("PolarisuseIGCorePreviousValue")(C);k(function(){if(S===C)return;!C&&Q.current<c("PolarisStyleConstants")["story-image-duration"].value?(d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startPauseTimer(),K(),q()):C&&!g&&A&&Q.current<c("PolarisStyleConstants")["story-image-duration"].value&&(d("PolarisStoriesLoggingUtils").StoriesLoggingSession.stopPauseTimer(),R(),r())},[K,Q,A,g,C,q,r,S,R]);k(function(){A&&N()},[A,N]);var T=c("nullthrows")(w.dimensions);return i.jsxs("div",{className:"_ac50",ref:a,children:[null,i.jsx(c("PolarisStoryMediaLayout.react"),{intrinsicDimensions:T,children:function(a){var f;return i.jsxs(i.Fragment,{children:[!A&&i.jsx(c("PolarisStoryPreview.react"),{className:a.className,dimensions:T,mediaPreview:w.mediaPreview},"p_"+w.id),i.jsx(c("PolarisResponsiveImage.react"),{className:c("joinClasses")(a.className,(C?"":"_ac51")+(A?"":" _ac52")),decoding:"sync",imgRef:function(a){return F(a)},onLoad:P,resizeKey:((f=w.src)!=null?f:"")+"-"+(h?"transitionInProgress":"transitionComplete"),src:w.src,srcSet:w.displayResources}),i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,height:d("PolarisUA").isMobile()?"":"100%",justifyContent:"center",left:!0,overflow:"hidden",position:d("PolarisUA").isMobile()?"fixed":"static",right:!0,top:!0,children:i.jsx(b,{isFirstStory:e,isPlaying:C,isVideo:!1,mediaLayout:a,onClose:n,onNext:o,onNextReel:p,onPause:M,onPlay:N,onPrev:t,onPrevReel:u,onResume:O,showVideoPlayButton:!1,tappableStickersEligible:!0,viewerDimensions:y})})]})}})]})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){return a.post.id!==b.post.id}h=c("PolariswithRemountOnChange")(b)(a);g["default"]=h},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryFooterCTA.react",["cx","PolarisExternalLink.react","PolarisGenericStrings","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreChevronIcon","PolarisIGCoreText","PolarisIGTheme.react","PolarisUA","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(a){var b=a.color,e=a.disableAnimation,f=a.externalURL,g=a.icon,h=a.isActive,j=a.onClick,k=a.showChevron;k=k===void 0?!1:k;var l=a.text,m=a.textAlign;m=m===void 0?"center":m;a=a.textThemedColor;var n=d("PolarisIGTheme.react").useTheme(),o=g!=null;g=o?i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreBox"),{flex:"none",children:g}),i.jsx(c("PolarisIGCoreBox"),{marginEnd:3})]}):null;k=k?i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreBox"),{flex:"grow",height:"100%",marginEnd:7,right:!0}),i.jsx(c("PolarisIGCoreChevronIcon"),{alt:d("PolarisGenericStrings").RIGHT_CHEVRON,color:a!=null?a:"ig-tertiary-icon",direction:"right",size:16})]}):null;var p=i.jsx("span",{style:{fontSize:12,lineHeight:"16px"},children:l});n=n.getTheme()===d("PolarisIGTheme.react").IGTheme.Dark?a==null?void 0:a.dark:a==null?void 0:a.light;n!=null&&(p=i.jsx("span",{style:{color:n,fontSize:12,lineHeight:"16px"},children:l}));a=i.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"start",width:"100%",children:[g,i.jsx(c("PolarisIGCoreBox"),{flex:"shrink",children:i.jsx(c("PolarisIGCoreText").Body,{color:b,textAlign:m,weight:"semibold",children:p})}),k]});f!=null?a=i.jsx(c("PolarisExternalLink.react"),{href:f,onClick:j,children:a}):j!=null&&(a=i.jsx(c("PolarisIGCoreButton"),{borderless:!0,onClick:function(){return j()},children:a}));n=d("PolarisUA").isMobile();return i.jsxs("div",{className:"_ac5d"+(h?" _ac5e":""),children:[i.jsx("div",{className:"_ac5f"+(h?" _ac5g":"")+(e?"":" _ac5h")+(o?" _ac5i":""),children:a}),n&&i.jsx("div",{className:"_ac5j",children:i.jsx("div",{className:h?"_ac5k":""})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryMediaOverlayInfoFooterCTA.react",["fbt","PolarisAssetManagerGlyphMapping","PolarisIGBloksAsyncAppLauncher","PolarisIGCoreIcon","PolarisIGCoreInfoPanoOutlineIcon","PolarisInstagramMediaOverlayFalcoEvent","PolarisMediaOverlayInfoTypes","PolarisMisinformationConstants","PolarisStoriesProvider.react","PolarisStoryFooterCTA.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useRef,l=b.useState;function m(a,b){var c=a.analyticsContext,e=a.bannerInfo,f=a.entityID,g=e.bannerButton,h=e.overlayLayout,i=e.overlayType;d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.buildPayloadForLog({button:g,containerModule:d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.getLoggableContainerModuleFromAnalyticsContext(c),entityID:f,event:b,overlayLayout:h,overlayType:i})})}function n(a){m(a,d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION)}function o(a,b){n(a),b()}function p(a){a=a.bannerInfo;var b=a.bannerButton,e=a.iconAltText;a=a.iconGlyph;b=b.text_color;e=e!=null?h._("{text}",[h._param("text",e)]):d("PolarisMisinformationConstants").POST_FOOTER_CTA_ALT_TEXT;if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.INFO)return i.jsx(c("PolarisIGCoreInfoPanoOutlineIcon"),{alt:e,color:b!=null?b:"ig-primary-icon",size:16});else if(a===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_ICON_GLYPHS.WARNING)return i.jsx(c("PolarisIGCoreIcon"),{alt:e,icon:d("PolarisAssetManagerGlyphMapping").ICONS.WARNING_OUTLINE_16_RED5});return null}function a(a){var b=l(!1),e=b[0],f=b[1];b=l(0);var g=b[0],h=b[1];b=d("PolarisStoriesProvider.react").useStoriesContext();var k=b.updateStoriesContext;b=a.bannerInfo;var m=a.disableImpressionLogging,n=a.entityID,r=b.animationInfo,s=b.bannerButton;b=b.text;var t=r.canAnimateSlideIn,u=r.isHidden,v=s.action;r=s.action_url;var w=s.has_chevron,x=s.is_text_centered;s=s.text_color;var y=v===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_EXTERNAL_URL?r:void 0,z=q(a),A=z!==n;j(function(){(A||e===!1)&&m!==!0&&u!==!0?f(!0):A&&f(!1)},[m,u,A,e,a,f]);z=v!==d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.NO_OP?function(){return o(a,function(){v===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&k({isPlaybackDisabled:!0}),h(g+1)})}:void 0;return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisStoryFooterCTA.react"),{disableAnimation:!t,externalURL:y,icon:p(a),isActive:!u,onClick:z,showChevron:(t=w)!=null?t:!1,text:b,textAlign:x===!0?"center":"left",textThemedColor:s}),v===d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP&&g>0&&r!=null&&i.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:r,onResumeStoryPlayback:function(){k({isPlaybackDisabled:!1})},params:{media_id:n,module:a.analyticsContext}},g)]})}a.displayName=a.name+" [from "+f.id+"]";function q(a){var b=a.entityID,c=k();j(function(){c.current=b});return c.current}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStorySensitivityOverlay.react",["cx","fbt","IGCoreDialog","PolarisEventLoop","PolarisIGBloksAsyncAppLauncher","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreDivider","PolarisIGCoreText","PolarisInstagramMediaOverlayFalcoEvent","PolarisLogger","PolarisMediaOverlayInfoTypes","PolarisPreviewPhoto.react","PolarisSensitivityOverlayCenterButton.react","PolarisSensitivityOverlayIcon.react","PolarisStoriesContext","PolarisStoryMediaLayout.react","PolarisStyleConstants","PolarisgetPostFromGraphMediaInterface","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=c("PolarisStyleConstants")["story-progressbar-update-tick"].value*1e3;function l(a){var b=a.centerButtonNode,d=a.description,e=a.eventZone,f=a.icon;a=a.title;return j.jsxs(c("PolarisIGCoreBox"),{alignContent:"center",direction:"column",height:"100%",justifyContent:"center",paddingX:8,children:[f,j.jsx(c("PolarisIGCoreBox"),{marginBottom:6,marginTop:7,children:j.jsx(c("PolarisIGCoreText").Headline1,{color:"web-always-white",textAlign:"center",children:a})}),j.jsx(c("PolarisIGCoreBox"),{marginBottom:6,children:j.jsx(c("PolarisIGCoreText").Body,{color:"web-always-white",textAlign:"center",children:d})}),e,j.jsx(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",width:"100%",children:b})]})}l.displayName=l.name+" [from "+f.id+"]";function m(a){var b=a.eventZone,d=a.mediaOverlayCoverInfo,e=a.onMediaOverlayInfoButtonClick,f=d.centerButton;a=d.description;var g=d.rootIconGlyph,h=d.title,i=f!=null?j.jsx(c("PolarisSensitivityOverlayCenterButton.react"),{buttonText:f.text,handler:function(a){e(d,f)}}):null;g=j.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:g});return j.jsx(l,{centerButtonNode:i,description:a,eventZone:b,icon:g,title:h})}m.displayName=m.name+" [from "+f.id+"]";b=function(a){babelHelpers.inheritsLoose(b,a);function b(b){var e;e=a.call(this,b)||this;e.$2=0;e.$3=null;e.$4=function(){if(e.$3!=null&&e.$3!==0)return;e.$3=c("PolarisEventLoop").setInterval(function(){if(e.state.showDialog||e.props.isPlaybackDisabled)return;e.$2+=c("PolarisStyleConstants")["story-progressbar-update-tick"].value;var a=e.$2*100/c("PolarisStyleConstants")["story-image-duration"].value;a=Math.min(a,100);e.props.onUpdatePreplayPercentage(a);a===100&&e.$6()},k)};e.$5=function(){e.$3!=null&&e.$3!==0&&(c("PolarisEventLoop").clearInterval(e.$3),e.$3=null)};e.$6=function(){e.$5(),e.props.onNext("automatic_forward")};e.$7=function(a){var b=e.props,c=b.onShowPostClicked;b=b.onUpdatePreplayPercentage;e.$8({event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a,customAction:"story_see_post_confirmation_continue",customSourceOfAction:"see_post_confirmation"});e.$9("reel_instagram_organic_gate_clear_dialog_accepted");e.$5();b(0);c()};e.$10=function(a){e.$8({event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a,customAction:"story_see_post_confirmation_dismiss",customSourceOfAction:"see_post_confirmation"}),e.$9("reel_instagram_organic_gate_clear_dialog_dismiss"),e.setState({showDialog:!1})};e.$11=function(a,b){e.$8({event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a,button:b}),e.$9("reel_instagram_organic_gate_clear_dialog_shown"),e.setState({showDialog:!0})};e.$12=function(a,b){(b==null?void 0:b.action_url)!=null&&(e.context.updateStoriesContext({bloksButtonClickCount:e.context.bloksButtonClickCount+1,bloksButtonAppId:b.action_url,isPlaybackDisabled:!0}),e.$8({event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.ACTION,mediaOverlayCoverInfo:a,button:b}))};e.$13=function(a,b){var c=b.action;switch(c){case d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.CLEAR_MEDIA_COVER:e.$11(a,b);break;case d("PolarisMediaOverlayInfoTypes").MEDIA_OVERLAY_BUTTON_ACTIONS.OPEN_BLOKS_APP:e.$12(a,b);break;default:break}};e.$9=function(a){var b=e.props,f=b.followStatus,g=b.post,h=b.reelId,i=b.reelPosition,j=b.reelSize,k=b.reelType,l=b.trayEntrypoint,m=b.trayPosition,n=b.traySessionId;b=b.viewerSessionId;var o=!(g.isVideo||!1)&&!(g.isSidecar||!1);d("PolarisLogger").logGatingEvent_DEPRECATED(a,{a_pk:g.id,containermodule:"story",follow_status:f==null?void 0:(a=f.followedByViewer)==null?void 0:a.state,gate_type:"sensitivity",m_pk:g.id+"_"+c("nullthrows")((f=g.owner)==null?void 0:f.id),m_t:o?"1":"2",reel_id:h,reel_position:i,reel_size:j,reel_type:k,source_of_action:l,time_elapsed:e.$2,time_remaining:c("PolarisStyleConstants")["story-image-duration"].value-e.$2,tray_position:m,tray_session_id:n,viewer_session_id:b})};e.$1=!1;e.state={showDialog:!1};return e}var e=b.prototype;e.componentDidMount=function(){this.$4()};e.componentWillUnmount=function(){this.$5()};e.render=function(){var a=this,b=this.props.post,e=b.id,f=b.mediaPreview;if(f==null)return null;var g=d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(this.props.post);this.$1||(this.$1=!0,this.$14(g));b=this.props;var h=b.eventZone,k=b.isFirstStory,l=b.onClose,n=b.onNext,o=b.onNextReel,p=b.onPause,q=b.onPlay,r=b.onPrev;b=b.onPrevReel;h=j.jsx(h,{isFirstStory:k,isPlaying:!1,isVideo:!1,onClose:l,onNext:n,onNextReel:o,onPause:p,onPlay:q,onPrev:r,onPrevReel:b,onResume:function(){},showVideoPlayButton:!1,tappableStickersEligible:!1});k=null;l=null;var s;if(g!=null){var t=g.bottomButton;s=j.jsx(m,{eventZone:h,mediaOverlayCoverInfo:g,onMediaOverlayInfoButtonClick:this.$13});t!=null&&(k=t.text,l=function(){return a.$13(g,t)})}else s=j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:null}),h]});var u=this.state.showDialog&&j.jsxs(d("IGCoreDialog").IGCoreDialog,{body:j.jsx(c("PolarisIGCoreText").Title,{children:i._("Are you sure?")}),onModalClose:function(){return a.$10(g)},children:[j.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:function(){return a.$7(g)},children:i._("Continue")}),j.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:function(){return a.$10(g)},children:i._("Cancel")})]}),v=k!=null&&k!==""&&j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,dangerouslySetClassName:{__className:"_ac53"},paddingX:8,position:"absolute",width:"100%",children:[j.jsx(c("PolarisIGCoreDivider"),{}),j.jsx(c("PolarisIGCoreBox"),{paddingY:4,width:"100%",children:j.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"ig-secondary-button",fullWidth:!0,onClick:l!=null?l:void 0,children:j.jsx(c("PolarisIGCoreText"),{color:"web-always-white",children:k})})})]});n=this.context;o=n.bloksButtonAppId;p=n.bloksButtonClickCount;return j.jsxs(j.Fragment,{children:[j.jsx(c("PolarisIGCoreBox"),{height:"100%",position:"relative",width:"100%",children:j.jsx(c("PolarisStoryMediaLayout.react"),{intrinsicDimensions:{height:this.context.viewerHeight,width:this.context.viewerWidth},children:function(b){return j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisPreviewPhoto.react").PreviewPhoto,{dimensions:{height:a.context.viewerHeight,width:a.context.viewerWidth},previewData:f}),j.jsxs(c("PolarisIGCoreBox"),{bottom:!0,dangerouslySetClassName:{__className:"_abws"},justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:[s,u]}),v]})}})}),p>0&&o&&j.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:o,onResumeStoryPlayback:function(){return a.context.updateStoriesContext({bloksButtonClickCount:0,isPlaybackDisabled:!1})},params:{media_id:e,module:this.props.trayEntrypoint}},p)]})};e.$14=function(a){this.$9("reel_instagram_organic_gate_impression"),this.$8({event:d("PolarisInstagramMediaOverlayFalcoEvent").IG_MEDIA_OVERLAY_FALCO_CLIENT_EVENTS.IMPRESSION,mediaOverlayCoverInfo:a})};e.$8=function(a){var b=a.button,c=a.customAction,e=a.customSourceOfAction,f=a.event;a=a.mediaOverlayCoverInfo;var g=this.props,h=g.containerModule;g=g.post;var i=g.id;g=a||{};a=g.overlayLayout;var j=a===void 0?null:a;a=g.overlayType;var k=a===void 0?null:a;d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.log(function(){return d("PolarisInstagramMediaOverlayFalcoEvent").InstagramMediaOverlayFalcoEvent.buildPayloadForLog({event:f,containerModule:h,customAction:c,customSourceOfAction:e,entityID:i,overlayLayout:j,overlayType:k,button:b})})};return b}(j.Component);b.contextType=d("PolarisStoriesContext").StoriesContext;function a(a,b){return babelHelpers["extends"]({},d("PolarisstorySelectors").getStoryLoggingPackage(a))}e=d("react-redux-wwwig").connect(a,null)(b);g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryTapToPlayOverlay.react",["PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreConstants","PolarisIGCoreText","PolarisLogger","PolarisODS","PolarisPreviewPhoto.react","PolarisStoriesStrings","PolarisStoryMediaLayout.react","PolarisUserAvatar.react","PolarisstorySelectors","PolarisuserSelectors","gkx","react","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j=300;function a(a){var b,e=a.onShowPostClicked;a=a.post;i(function(){c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesTapToPlayOverlaySeen"),c("PolarisODS").incr("web.stories.stories_tap_to_play_overlay_seen")},[]);var f=(b=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostAuthor))==null?void 0:b.username;b=(b=d("react-redux-wwwig").useSelector(d("PolarisuserSelectors").getViewer))!=null?b:{};var g=b.profilePictureUrl,k=b.username,l=function(){c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storiesTapToPlayOverlayTapped"),c("PolarisODS").incr("web.stories.stories_tap_to_play_overlay_tapped"),e()};b=a.dimensions;var m=b===void 0?{height:j,width:j}:b,n=a.mediaPreview;return h.jsx(c("PolarisIGCoreBox"),{height:"100%",position:"relative",width:"100%",children:h.jsx(c("PolarisStoryMediaLayout.react"),{intrinsicDimensions:m,children:function(a){return h.jsxs(h.Fragment,{children:[n!=null&&h.jsx(d("PolarisPreviewPhoto.react").PreviewPhoto,{dimensions:m,previewData:n}),h.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,direction:"column",display:"flex",justifyContent:"center",left:!0,marginEnd:"auto",marginStart:"auto",position:"absolute",right:!0,top:!0,width:"75%",children:[g!=null&&h.jsx(c("PolarisUserAvatar.react"),{isLink:!1,profilePictureUrl:g,size:c("PolarisIGCoreConstants").AVATAR_SIZES.XL}),k!=null&&h.jsx(c("PolarisIGCoreBox"),{marginTop:6,children:h.jsx(c("PolarisIGCoreText"),{color:"web-always-white",size:"title",textAlign:"center",weight:"semibold",children:d("PolarisStoriesStrings").viewStoryTitleText(k)})}),f!=null&&h.jsx(c("PolarisIGCoreBox"),{marginTop:4,children:h.jsx(c("PolarisIGCoreText"),{color:"web-always-white",size:"body",textAlign:"center",children:d("PolarisStoriesStrings").viewStorySubtitleText(f)})}),h.jsx(c("PolarisIGCoreBox"),{marginTop:8,children:h.jsx(c("PolarisIGCoreButton"),{color:"web-always-white","data-testid":void 0,large:!0,onClick:l,children:d("PolarisStoriesStrings").VIEW_STORY})})]})]})}})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryVideoContext.react",["react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");c=d("react");var i=c.useContext,j=c.useRef,k={ref:{current:null},loggerValuesRef:{current:{initialShouldStarted:!0,initialStartedPlaying:!0,lastShouldStartTime:0,lastStartPosition:0,loggingSequenceNumber:1}}},l=h.createContext(k);function a(){return i(l)}function b(a){a=a.children;var b=j(k.ref.current),c=j(k.loggerValuesRef.current);return h.jsx(l.Provider,{value:{ref:b,loggerValuesRef:c},children:a})}b.displayName=b.name+" [from "+f.id+"]";g.defaultContext=k;g.StoryVideoContext=l;g.useStoryVideoContext=a;g.StoryVideoContextProvider=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryMedia.react",["PolarisLoggedOutStoryUpsell.react","PolarisStoriesContext","PolarisStoryExpired.react","PolarisStoryImage.react","PolarisStoryMediaOverlayInfoFooterCTA.react","PolarisStorySensitivityOverlay.react","PolarisStoryTapToPlayOverlay.react","PolarisStoryVideoContext.react","PolarisadsSelectors","PolarisgetPostFromGraphMediaInterface","PolarisisUserLoggedIn","cr:3809","cr:4019","react","usePolarisStoryAdMediaImpressionLogger"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useContext;function a(a){var e=a.autoPlay,f=a.eventZone,g=a.isExpired,j=a.isFirstStory,k=a.isInitialLoad,l=a.onClose,m=a.onNext,n=a.onNextReel,o=a.onPause,p=a.onPlay,q=a.onPostSeen,r=a.onPrev,s=a.onPrevReel,t=a.onUpdatePlayPercentage,u=a.onUpdatePreplayPercentage,v=a.reachedLoggedOutHighlightsLimit,w=a.reelId,x=a.post,y=a.preload,z=a.trayEntrypoint;a=a.viewerDimensions;var A=d("PolarisadsSelectors").useStoryAdInfo(x.id,function(a){return a}),B=c("usePolarisStoryAdMediaImpressionLogger")(A,w,x.id);A=function(){q(w,x.id)};var C=i(d("PolarisStoriesContext").StoriesContext),D=C.isMuted,E=C.isPlaybackDisabled,F=C.isTransitioning,G=C.updateStoriesContext,H=C.needsTapToStart;C=C.postIDThatShouldShowSensitiveContentOverlay;var I=function(){G({isMuted:!D})},J={autoPlay:e,eventZone:f,isFirstStory:j,onClose:l,onNext:m,onNextReel:n,onPause:o,onPlay:p,onPrev:r,isPlaybackDisabled:E,isTransitioning:F,isMuted:D,isInitialLoad:k,reelId:w,onPrevReel:s,onUpdatePlayPercentage:t,onUpdatePreplayPercentage:u,preload:y,trayEntrypoint:z,viewerDimensions:a,onPostSeen:A,post:x};e=d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayBottomBannerInfoFromRootPost(x,!0);var K=e&&h.jsx(c("PolarisStoryMediaOverlayInfoFooterCTA.react"),{analyticsContext:z,bannerInfo:e,disableImpressionLogging:!1,entityID:x.id});if(!d("PolarisisUserLoggedIn").isUserLoggedIn()&&v===!0)return h.jsx(c("PolarisLoggedOutStoryUpsell.react"),babelHelpers["extends"]({},J));if(H)return h.jsx(c("PolarisStoryTapToPlayOverlay.react"),babelHelpers["extends"]({onShowPostClicked:function(){G({needsTapToStart:!1}),p()}},J));if(C!=null&&x.id===C)return h.jsx(c("PolarisStorySensitivityOverlay.react"),babelHelpers["extends"]({onShowPostClicked:function(){G({postIDThatShouldShowSensitiveContentOverlay:null})}},J));if(g)return h.jsx(c("PolarisStoryExpired.react"),babelHelpers["extends"]({},J,{isPlaybackDisabled:E,isTransitioning:F}));if(x.isVideo===!0)if(b("cr:4019")!=null)return h.jsx(b("cr:4019"),{isFirstStory:j,mediaRef:B,onElapsedPercentageUpdate:t,onNext:m,onNextReel:n,onPrev:r,onPrevReel:s,post:x,reelId:w});else if(b("cr:3809")!=null)return h.jsx(d("PolarisStoryVideoContext.react").StoryVideoContext.Consumer,{children:function(a){var c=a.loggerValuesRef;a=a.ref;return h.jsxs(h.Fragment,{children:[h.jsx(b("cr:3809"),babelHelpers["extends"]({},J,{loggerValuesRef:c,mediaRef:B,toggleMute:I,videoRef:a})),K]})}});return h.jsxs(h.Fragment,{children:[h.jsx(c("PolarisStoryImage.react"),babelHelpers["extends"]({},J,{mediaRef:B})),K]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesV2ReelViewer.react",["cx","fbt","PolarisDesktopStoriesFooter.react","PolarisDesktopStoriesHeaderV2.react","PolarisDesktopStoryEventZone.react","PolarisPageIdentifierConstants","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryMedia.react","PolarisStoryMediaPrefetcher.react","PolarisStoryVideoContext.react","PolarisStoryViewerPerformanceLogger","PolarisTrackingNodeProvider.react","PolarisVideoLogger","PolarisstorySelectors","PolarisuserSelectors","PolarisvideoEventLogger","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useState;function a(a){var b,e=a.innerRef,f=a.reel,g=a.post;a=a.reelItemIndex;var h=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getTrayEntrypoint)),m=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentTrayOrder});b=d("PolarisuserSelectors").useUser((b=g.owner)==null?void 0:b.id);var n=d("PolarisuserSelectors").useUser(f.userId),o=d("react-redux-wwwig").useSelector(function(a){return f.itemIds==null?[]:f.itemIds.map(function(b){return c("nullthrows")(a.posts.byId.get(b))}).filter(function(a){return a!=null})});m=m[0];m=f.id===m&&a===0;var p=d("react-redux-wwwig").useDispatch(),q=l(0),r=q[0],s=q[1];q=d("PolarisstorySelectors").isReelItemExpired(g.expiringAt,f);var t=d("PolarisStoriesProvider.react").useStoriesContext(),u=t.isInitialLoad,v=t.isMuted,w=t.needsTapToStart,x=t.postIDThatShouldShowSensitiveContentOverlay,y=t.updateStoriesContext;t=d("PolarisStoryVideoContext.react").useStoryVideoContext();var z=t.loggerValuesRef,A=t.ref,B=k(function(){if(A.current&&!A.current.paused){var a=g.id,b=g.owner,e=g.trackingToken,f=g.postedAt,h=A.current;d("PolarisvideoEventLogger").logVideoPausedEvent({analyticsContext:c("PolarisPageIdentifierConstants").StoriesPage,currentVideoTime:d("PolarisVideoLogger").normalizeVideoEvent(h==null?void 0:h.currentTime),dashInfo:null,duration:d("PolarisVideoLogger").normalizeVideoEvent(h==null?void 0:h.duration),id:a||"",owner:b,postedAt:f,sequenceNumber:z.current.loggingSequenceNumber++,trackingToken:e,videoWidth:h==null?void 0:h.videoWidth,lastStartPosition:z.current.lastStartPosition,loopsCount:0,playingAudio:v?0:1})}},[g,v,z,A]);t=k(function(a){a===void 0&&(a="tap_exit"),B(),p(d("PolarisStoryActions").closeReels(a))},[p,B]);var C=k(function(a,b){a===void 0&&(a="tap_forward"),b===void 0&&(b=!0),b===!0&&B(),s(0),p(d("PolarisStoryActions").nextReelItem(a))},[p,B]),D=k(function(a,b){a===void 0&&(a="swipe_forward"),b===void 0&&(b=!0),b===!0&&B(),s(0),p(d("PolarisStoryActions").nextReel(a))},[p,B]),E=k(function(a,b){return p(d("PolarisStoryActions").updateReelSeen(a,b))},[p]),F=k(function(a){a===void 0&&(a=!0),a&&B(),s(0),p(d("PolarisStoryActions").prevReelItem("tap_back"))},[p,B]),G=k(function(a){a===void 0&&(a=!0),a&&B(),s(0),p(d("PolarisStoryActions").prevReel("swipe_back"))},[p,B]),H=k(function(){u&&c("PolarisStoryViewerPerformanceLogger").onLoadSuccess({reelId:f.id}),y({isInitialLoad:!1,isPaused:!1})},[u,f.id,y]);return j.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:321,children:j.jsx("section",{className:"_ac0a","data-testid":void 0,ref:e,children:j.jsxs("div",{className:"_ac0b",children:[!m&&!w&&j.jsx("button",{"aria-label":i._("Previous"),className:"_ac0c",onClick:F,children:j.jsx("div",{className:"_9zm0"})}),j.jsx(c("PolarisStoryMedia.react"),{autoPlay:!0,eventZone:c("PolarisDesktopStoryEventZone.react"),isExpired:q,isFirstStory:m,isInitialLoad:u,onClose:t,onNext:C,onNextReel:D,onPause:function(){},onPlay:H,onPostSeen:E,onPrev:F,onPrevReel:G,onUpdatePlayPercentage:s,onUpdatePreplayPercentage:s,post:g,preload:"auto",reelId:f.id,trayEntrypoint:h}),j.jsx(c("PolarisStoryMediaPrefetcher.react"),{prefetchContext:"stories"}),j.jsx(c("PolarisDesktopStoriesHeaderV2.react"),{currentReelItemIndex:a,itemCount:o.length,onModalOpen:function(){return y({isModalActive:!0})},playPercentage:r,post:g,postAuthor:c("nullthrows")(b),reel:f,reelOwner:c("nullthrows")(n),trayEntrypoint:h}),!w&&j.jsx("button",{"aria-label":i._("Next"),className:"_ac0d",onClick:function(){return C("tap_forward")},children:j.jsx("div",{className:"_9zm2"})}),x==null&&!w&&!q&&j.jsx(c("PolarisDesktopStoriesFooter.react"),{post:g,reel:f})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDOMHelper",["invariant"],function(a,b,c,d,e,f,g,h){"use strict";function a(){var a=document.getElementById("react-root");a||h(0,51486);return a}function b(){var a=window.visualViewport;return a?a.scale:document.body?document.body.clientWidth/window.innerWidth:1}g.getRootElement=a;g.getDocumentScale=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisMobileOwnerStoriesOverlay.react",["cx","PolarisCloseFriendsLabel.react","PolarisExclusiveStoryLabel.react","PolarisIGCoreSVGIconButton","PolarisIGCoreXPanoOutlineIcon","PolarisMonitorErrors","PolarisSharedStoryHeaderInfo.react","PolarisStoriesHeaderOwnerV2.react","PolarisStoriesProvider.react","PolarisStoriesStrings","PolarisStoryOptionsButton.react","PolarisStoryProgressBars.react","PolarisstorySelectors","err","nullthrows","qex","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect;function a(a){var b=a.currentReelItemIndex,e=a.items,f=a.onClose,g=a.onModalOpen,h=a.post,k=a.postAuthor,l=a.percentage,m=a.reel,n=a.reelOwner,o=a.trayEntrypoint;a=a.viewerId;j(function(){h==null&&d("PolarisMonitorErrors").logError(c("err")("post not found for mobile stories"))},[h]);var p=d("PolarisStoriesProvider.react").useStoriesContext(),q=p.updateStoriesContext,r=p.isMusicAvailableInCountry,s=p.isMuted,t=p.isPaused;p=n.id===a;var u=h.audience==="MediaAudience.FAN_CLUB",v=h.audience==="MediaAudience.BESTIES";return i.jsxs("header",{className:"_aafq",children:[i.jsx(c("PolarisStoryProgressBars.react"),{count:e.length,currentIndex:b,percentage:l}),i.jsxs("div",{className:"_aafr",children:[i.jsx(c("PolarisStoriesHeaderOwnerV2.react"),{appAttribution:h.storyAppAttribution,audience:h.audience,closeFriends:v,currentReelItemIndex:b,exclusiveStory:u,isAffiliate:h.isAffiliate===!0,isPaidPartnership:h.isPaidPartnership===!0,postAuthor:k,postedAt:c("nullthrows")(h.postedAt),reel:m,reelOwner:n,sponsors:h.sponsors,title:(e=d("PolarisstorySelectors").getReelTitle(m,n,h.owner,a,!1))!=null?e:"",trayEntrypoint:o,viewingOwnStory:p}),i.jsxs("div",{className:"_aafs",children:[h.isSponsored&&i.jsx(c("PolarisStoryOptionsButton.react"),{onClick:g,post:h,reel:m}),v&&i.jsx(c("PolarisCloseFriendsLabel.react"),{onClick:function(){q({isCloseFriendsDialogActive:!0})},textSize:u?"small":"large"}),u&&i.jsx(c("PolarisExclusiveStoryLabel.react"),{onClick:function(){q({isExclusiveStoryDialogActive:!0})},textSize:v?"small":"large"}),h!=null&&c("qex")._("126")?i.jsx(c("PolarisSharedStoryHeaderInfo.react"),{isMusicAvailableInCountry:r,isMuted:s,isPaused:t,post:h,toggleStoryMuteState:function(){q({isMuted:!s})},toggleStoryPauseState:function(){q({isPaused:!t})}}):null,i.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(){return f()},children:i.jsx(c("PolarisIGCoreXPanoOutlineIcon"),{alt:d("PolarisStoriesStrings").ALT_TEXT_CLOSE_ICON,color:"web-always-white"})})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisMobileStoryCTA.react",["cx","fbt","PolarisUA","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){a=a.onOpenCta;return d("PolarisUA").isBrowser("Mobile Safari")?j.jsxs("div",{className:"_aa0q",onClick:a,role:"button",tabIndex:"0",children:[j.jsx("div",{className:"_aa0r",children:i._("See More")}),j.jsx("div",{className:"_9znl"})]}):j.jsxs("div",{className:"_aa0s",children:[j.jsx("div",{className:"_9znl _aa0t"}),j.jsx("div",{children:i._("See More")})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisMobileStoriesFooter.react",["cx","PolarisDirectStrings","PolarisIGCoreBox","PolarisLikeButton.react","PolarisLinkBuilder","PolarisLoggedOutIntentDialog.react","PolarisMobileStoryCTA.react","PolarisPageIdentifierConstants","PolarisShareHelpers","PolarisShareSheet.react","PolarisSponsoredStoriesFooterCTA.react","PolarisStoriesContext","PolarisStoryOptionsButton.react","PolarisStoryReplyComposer.react","PolarisStoryShareButton.react","PolarisStoryViewerButton.react","PolarisStoryViewerToast.react","PolarisadsSelectors","PolarisisUserLoggedIn","PolarispostSelectors","PolarisuseStoryLikes","PolarisuserSelectors","gkx","react","react-redux-wwwig","usePolarisStoriesFooter"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useContext;function a(a){var b,e=a.onModalOpen,f=a.post;a=a.reel;var g=c("usePolarisStoriesFooter")(f,a),h=g.canReply,l=g.canReshare,m=g.ctaUrl,n=g.handleShareStory,o=g.isViewingOwnStory,p=g.mediaId,q=g.onOpenCta,r=g.setToastMessage,s=g.storyOwnerId;g=g.toastMessage;var t=k(d("PolarisStoriesContext").StoriesContext),u=t.isLoggedOutIntentDialogActive;t=t.isLoggedOutStoryShareSheetActive;l=l?i.jsx(c("PolarisStoryShareButton.react"),{currentPost:f,handleShareStory:n,reelId:a.id,referrer:"MobileStoriesFooter"}):null;n=i.jsx(c("PolarisStoryOptionsButton.react"),{onClick:e,post:f,reel:a});e=p.split("_");var v=e[0];e[1];e=d("react-redux-wwwig").useSelector(function(a){return d("PolarispostSelectors").doesViewerLikePost(a,v)});var w=d("PolarisuserSelectors").useUser(s),x=c("PolarisuseStoryLikes")(v,w==null?void 0:w.username);w=(w==null?void 0:w.username)!=null?d("PolarisShareHelpers").getShareDescription(w.username,"highlight"):null;var y=d("PolarisLinkBuilder").buildHighlightStoryLink(a.id),z=k(d("PolarisStoriesContext").StoriesContext),A=z.updateStoriesContext;z=j(function(){A({isLoggedOutStoryShareSheetActive:!1,isPaused:!1})},[A]);var B=d("PolarisadsSelectors").useStoryAdInfo(f.id,function(a){return a});b=B==null?void 0:(b=B.ctaItems)==null?void 0:(b=b.get(f.id))==null?void 0:b.ctaLinkText;B=b!=null&&m!=null?i.jsx(c("PolarisSponsoredStoriesFooterCTA.react"),{adInfo:B,ctaUrl:m,isMobile:!0,text:b}):i.jsx(c("PolarisMobileStoryCTA.react"),{onOpenCta:q});if(s==null)return null;b=i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"_aafn",children:[h?i.jsx(c("PolarisStoryReplyComposer.react"),{handleStoryLike:x,likedByViewer:e,mediaId:p,onSendMessage:function(){r(d("PolarisDirectStrings").SENT_TOAST_TEXT)},optionsElement:n,reelId:a.id,shareButton:l,storyOwnerId:s,supportsReelReactions:!o}):i.jsxs(c("PolarisIGCoreBox"),{direction:"row",flex:"grow",justifyContent:"end",children:[!o&&c("gkx")("5703")&&i.jsxs("div",{className:"_aafo",children:[u&&i.jsx(c("PolarisLoggedOutIntentDialog.react"),{}),!f.isSponsored&&i.jsx(c("PolarisLikeButton.react"),{color:"ig-stroke-on-media",isLiked:e,onChange:x})]}),l,!f.isSponsored&&n,!d("PolarisisUserLoggedIn").isUserLoggedIn()&&t&&w!=null&&y!=null&&i.jsx(c("PolarisShareSheet.react"),{analyticsContext:c("PolarisPageIdentifierConstants").StoriesPage,description:w,entityID:a.id,entityType:"highlight",onClose:z,shareEnabled:!0,shareIds:null,url:y,utmSource:"ig_web_button_share_sheet"})]}),i.jsx(c("PolarisStoryViewerToast.react"),{message:g,onClose:function(){return r("")}})]}),i.jsx(c("PolarisStoryViewerButton.react"),{}),m!=null&&B]});q=i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisStoryViewerButton.react"),{}),i.jsxs("div",{className:"_aeb-",children:[m!=null&&B,i.jsx("div",{className:"_aeb_",children:l}),i.jsx(c("PolarisStoryViewerToast.react"),{message:g,onClose:function(){return r("")}})]})]});return i.jsx("footer",{className:"gt60zsk1 r5g9zsuq r227ecj6 srn514ro q6ul9yy4 mfclru0v cqf1kptm alzwoclg bdao358l z6erz7xo s8sjc6am f7qz1mub",children:f.isSponsored?q:b})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisMobileStoryEventZone.react",["cx","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoryActions","PolarisStoryTappableObjects.react","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=200,k=50,l=100,m=500;b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.$1=null,e.$2=null,e.$3=null,e.$4=null,e.$5=function(a){a.preventDefault()},e.$6=function(a){e.$2==null&&(e.$2=Date.now(),e.$3=a.touches[0].clientX,e.$4=a.touches[0].clientY),e.$7(a)},e.$8=function(a){a.touches.length===0&&e.$9(a),e.$10(a)},e.$10=function(a){if(e.$2!=null){var b=Date.now()-c("nullthrows")(e.$2),d=a.changedTouches[0].clientX-c("nullthrows")(e.$3);a=a.changedTouches[0].clientY-c("nullthrows")(e.$4);b<=m&&(Math.abs(a)>k&&Math.abs(d)<l?a<0?e.$11():e.props.onClose("swipe_down"):Math.abs(a)<l&&(d>k?e.props.onPrevReel():d<-k&&e.props.onNextReel("swipe_forward")));e.$2=null;e.$3=null;e.$4=null}},e.$7=function(a){e.props.onPause(),e.context.updateStoriesContext({isPaused:!0}),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startTapPauseTimer(),e.$1==null&&(e.$1=Date.now())},e.$9=function(a){var b=e.$1;b!=null&&(e.props.onResume(),e.context.updateStoriesContext({isPaused:!1}),e.props.onStoriesMediaPause(d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData().tapPauseTime),Date.now()-b>=j&&(a.stopPropagation(),a.preventDefault()));e.$1=null},e.$11=function(){e.props.ctaUrl!=null&&e.props.onOpenCta(e.props.ctaUrl,"story_cta_swipeup")},e.$12=function(a){e.props.onResumeStorySession(),e.props.onPlay(a)},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.render=function(){var a=this.props,b=a.isFirstStory,d=a.onNext,e=a.onPrev,f=a.showVideoPlayButton,g=a.tappableStickersEligible;a=a.viewerDimensions;return i.jsxs("div",{className:"_aafd",style:a,children:[i.jsxs("div",{className:"_aafe",onContextMenu:this.$5,onTouchEnd:this.$8,onTouchStart:this.$6,role:"button",tabIndex:"0",children:[i.jsx("button",{className:"_aaff _aafg",onClick:b?null:e}),i.jsx("button",{className:"_aafh",onClick:b?null:e}),i.jsx("button",{className:"_aafi",onClick:function(){return d("tap_forward")}}),i.jsx("button",{className:"_aafj _aafg",onClick:function(){return d("tap_forward")}}),f&&i.jsx("div",{className:"_aafk",children:i.jsx("button",{className:"_aafl _9zwu",onClick:this.$12})})]}),g&&this.props.mediaLayout!=null&&i.jsx(c("PolarisStoryTappableObjects.react"),{isPlaying:this.props.isPlaying,mediaLayout:c("nullthrows")(this.props.mediaLayout)})]})};return b}(i.PureComponent);b.contextType=d("PolarisStoriesContext").StoriesContext;function a(a){var b=c("nullthrows")(d("PolarisstorySelectors").getCurrentPostId(a));a=c("nullthrows")(a.posts.byId.get(b));return{ctaUrl:a.storyCtaUrl,hasAudio:Boolean(a.hasAudio)}}e={onOpenCta:d("PolarisStoryActions").openCtaUrl,onResumeStorySession:d("PolarisStoryActions").resumeStorySession,onStoriesMediaPause:d("PolarisStoryActions").logStoriesMediaPause};f=d("react-redux-wwwig").connect(a,e)(b);g["default"]=f},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoriesResumeOverlay.react",["cx","PolarisStoriesContext","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useContext;function a(a){var b=a.onResumeStorySession,c=j(d("PolarisStoriesContext").StoriesContext);return i.jsx("div",{className:"_aafu",onClick:function(){b(),c.updateStoriesContext({needsTapToStart:!1})},role:"button",tabIndex:"0"})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryConstants",["PolarisStyleConstants"],function(a,b,c,d,e,f,g){"use strict";a=c("PolarisStyleConstants")["story-progressbar-update-tick"].value*1e3;g.STORY_UPDATE_TICK_S=c("PolarisStyleConstants")["story-progressbar-update-tick"].value;g.STORY_UPDATE_TICK_MS=a;g.STORY_IMAGE_DURATION=c("PolarisStyleConstants")["story-image-duration"].value},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisZeroStoryBanner.react",["cx","fbt","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=i._("Using data");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){return a.apply(this,arguments)||this}var c=b.prototype;c.render=function(){return j.jsx("div",{className:"_aa2l",children:j.jsxs("div",{className:"_aa2m",children:[j.jsx("span",{className:"_aa2n _9z-c"}),j.jsx("span",{className:"_aa2o",children:k})]})})};return b}(j.PureComponent);g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisMobileStoryViewer.react",["cx","PolarisConfig","PolarisDOMHelper","PolarisEventListener","PolarisLogger","PolarisMobileOwnerStoriesOverlay.react","PolarisMobileStoriesConstants","PolarisMobileStoriesFooter.react","PolarisMobileStoryEventZone.react","PolarisStoriesLoggingUtils","PolarisStoriesProvider.react","PolarisStoriesResumeOverlay.react","PolarisStoryActions","PolarisStoryConstants","PolarisStoryMedia.react","PolarisStoryMediaPrefetcher.react","PolarisStoryVideoContext.react","PolarisTrackingNodeProvider.react","PolarisVideoLogger","PolarisZeroRatingUtils","PolarisZeroStoryBanner.react","PolarisstorySelectors","PolarisuseAnalyticsContext","PolarisuserSelectors","PolarisvideoEventLogger","PolariswithDataSaver","nullthrows","qex","react","react-redux","usePrevious"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=b.useRef,m=b.useState;function n(){return null}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.innerRef,e=a.preload,f=a.reel,g=a.post;a=a.reelItemIndex;var h=d("PolarisStoryVideoContext.react").useStoryVideoContext(),o=h.loggerValuesRef,p=h.ref;h=d("PolarisuserSelectors").useUser((h=g.owner)==null?void 0:h.id);var q=d("PolarisuserSelectors").useUser(f.userId),r=m(null),s=r[0],t=r[1],u=l(null),v=l(null);r=c("nullthrows")(d("react-redux").useSelector(d("PolarisstorySelectors").getTrayEntrypoint));var w=d("react-redux").useSelector(function(a){return a.stories.currentTrayOrder}),x=d("react-redux").useSelector(function(a){return f.itemIds==null?[]:f.itemIds.map(function(b){return c("nullthrows")(a.posts.byId.get(b))}).filter(function(a){return a!=null})});w=w[0];w=f.id===w&&a===0;var y=d("react-redux").useDispatch(),z=d("PolarisstorySelectors").isReelItemExpired(g.expiringAt,f),A=d("PolarisStoriesProvider.react").useStoriesContext(),B=A.isInitialLoad,C=A.isResumeOverlayActive,D=A.updateStoriesContext,E=A.needsTapToStart,F=A.postIDThatShouldShowSensitiveContentOverlay,G=A.isKeyboardActive,H=A.viewerHeight,I=A.isMuted,J=A.animationDirection,K=c("PolarisuseAnalyticsContext")();A=d("react-redux").useSelector(function(a){return a.users.viewerId});var L=d("react-redux").useSelector(function(a){return a.displayProperties.viewportHeight}),M=d("react-redux").useSelector(function(a){return a.stories.reachedLoggedOutHighlightsLimit}),N=d("react-redux").useSelector(function(a){return a.displayProperties.viewportWidth}),O=d("react-redux").useSelector(function(a){return a.displayProperties.orientation}),P=c("usePrevious")({animationDirection:J,viewportHeight:L,viewportWidth:N,orientation:O}),Q=j(function(){y(d("PolarisStoryActions").resumeStorySession())},[y]),R=d("PolarisZeroRatingUtils").isZeroRatingSlimEligible(),S=function(a){var b=a.touches.length===1&&d("PolarisDOMHelper").getDocumentScale()===1;b&&a.preventDefault()},T=function(){u.current&&(u.current.remove(),u.current=null)};k(function(){d("PolarisConfig").isIOS()&&v.current!=null&&(u.current=c("PolarisEventListener").add(v.current,"touchmove",S,{passive:!1}));D({viewerHeight:L,viewerWidth:N});return function(){T()}},[D,L,N]);k(function(){if((P==null?void 0:P.viewportHeight)!==L||(P==null?void 0:P.viewportWidth)!==N){if(P&&(P==null?void 0:P.viewportWidth)===N&&(P==null?void 0:P.orientation)===O&&(P==null?void 0:P.viewportHeight)>L&&G)return;D({viewerHeight:L,viewerWidth:N})}},[L,N,O,P,G,D]);var U=null;R&&(U=i.jsx(c("PolarisZeroStoryBanner.react"),{}),d("PolarisLogger").logZeroEvent({event_name:"story_data_banner_impression"}));R=function(a,b){var e=g.isVideo;d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewMedia(!!e,d("PolarisstorySelectors").isStorySeen(g,f),e===!0?c("nullthrows")(g.videoDuration):d("PolarisStoryConstants").STORY_IMAGE_DURATION);y(d("PolarisStoryActions").updateReelSeen(a,b))};var V=j(function(){if(p.current&&!p.current.paused){var a,b=g.id,c=g.owner,e=g.trackingToken,f=g.postedAt,h=p.current;d("PolarisvideoEventLogger").logVideoPausedEvent({analyticsContext:K,currentVideoTime:d("PolarisVideoLogger").normalizeVideoEvent((a=p.current)==null?void 0:a.currentTime),dashInfo:null,duration:d("PolarisVideoLogger").normalizeVideoEvent(h==null?void 0:h.duration),id:b||"",owner:c,postedAt:f,sequenceNumber:o.current.loggingSequenceNumber++,trackingToken:e,videoWidth:h==null?void 0:h.videoWidth,lastStartPosition:o.current.lastStartPosition,loopsCount:0,playingAudio:I?0:1})}},[K,g,I,o,p]),W=j(function(a){a===void 0&&(a="tap_exit"),V(),y(d("PolarisStoryActions").closeReels(a))},[y,V]),X=l(null),Y=j(function(a,b){a===void 0&&(a="tap_forward"),b===void 0&&(b=!0),t(0),b&&V(),V(),J===d("PolarisMobileStoriesConstants").AnimationDirections.FORWARD?y(d("PolarisStoryActions").nextReelItem(a)):(D({animationDirection:d("PolarisMobileStoriesConstants").AnimationDirections.FORWARD}),X.current=function(){y(d("PolarisStoryActions").nextReelItem(a))})},[J,y,V,D]),Z=j(function(a,b){a===void 0&&(a="tap_forward"),b===void 0&&(b=!0),t(0),b&&V(),J===d("PolarisMobileStoriesConstants").AnimationDirections.FORWARD?y(d("PolarisStoryActions").nextReel(a)):(D({animationDirection:d("PolarisMobileStoriesConstants").AnimationDirections.FORWARD}),X.current=function(){y(d("PolarisStoryActions").nextReel(a))})},[J,y,V,D]),aa=j(function(a){a===void 0&&(a=!0),t(0),a&&V(),J===d("PolarisMobileStoriesConstants").AnimationDirections.BACKWARD?y(d("PolarisStoryActions").prevReelItem("tap_back")):(D({animationDirection:d("PolarisMobileStoriesConstants").AnimationDirections.BACKWARD}),X.current=function(){y(d("PolarisStoryActions").prevReelItem("tap_back"))})},[J,y,V,D]),ba=j(function(a){a===void 0&&(a=!0),t(0),a&&V(),J===d("PolarisMobileStoriesConstants").AnimationDirections.BACKWARD?y(d("PolarisStoryActions").prevReel("tap_back")):(D({animationDirection:d("PolarisMobileStoriesConstants").AnimationDirections.BACKWARD}),X.current=function(){y(d("PolarisStoryActions").prevReel("tap_back"))})},[J,y,V,D]);k(function(){(P==null?void 0:P.animationDirection)!=null&&(P==null?void 0:P.animationDirection)!==J&&X.current!=null&&(X.current(),X.current=null)},[J,P==null?void 0:P.animationDirection]);var $=function(){D({isModalActive:!0})};return i.jsx(c("PolarisTrackingNodeProvider.react"),{trackingNode:321,children:i.jsxs("section",{className:"_afhm",ref:b,children:[U,i.jsx("div",{className:"_afhn",ref:v,style:{height:H},children:i.jsx(c("PolarisStoryMedia.react"),{autoPlay:c("qex")._("107")===!0,eventZone:G?n:c("PolarisMobileStoryEventZone.react"),isExpired:z,isFirstStory:w,isInitialLoad:B,onClose:W,onNext:Y,onNextReel:Z,onPause:function(){},onPlay:function(){},onPostSeen:R,onPrev:aa,onPrevReel:ba,onUpdatePlayPercentage:t,onUpdatePreplayPercentage:t,post:g,preload:e,reachedLoggedOutHighlightsLimit:M,reelId:f.id,trayEntrypoint:r},g.id)}),i.jsx(c("PolarisMobileOwnerStoriesOverlay.react"),{currentReelItemIndex:a,items:x,onClose:W,onModalOpen:$,percentage:(b=s)!=null?b:0,post:g,postAuthor:c("nullthrows")(h),reel:f,reelOwner:c("nullthrows")(q),trayEntrypoint:r,viewerId:A},g.id),C&&i.jsx(c("PolarisStoriesResumeOverlay.react"),{onResumeStorySession:Q}),i.jsx(c("PolarisStoryMediaPrefetcher.react"),{prefetchContext:"stories"}),F==null&&!E&&M===!1&&i.jsx(c("PolarisMobileStoriesFooter.react"),{onModalOpen:$,post:g,reel:f})]})})}a.displayName=a.name+" [from "+f.id+"]";e=c("PolariswithDataSaver")(a);g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoriesIntegrityGuards.react",["PolarisIGBloksAsyncAppLauncher","PolarisStoriesProvider.react","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPost));var b=d("PolarisStoriesProvider.react").useStoriesContext(),e=b.shareClickCount,f=b.updateStoriesContext;return h.jsx(h.Fragment,{children:e>0&&((b=a.sharingFrictionInfo)==null?void 0:b.bloksAppUrl)!=null&&h.jsx(c("PolarisIGBloksAsyncAppLauncher"),{appId:a.sharingFrictionInfo.bloksAppUrl,onOpenShareSheetClick:function(){return f({isPlaybackDisabled:!1,isStoryShareSheetActive:!0})},onResumeStoryPlayback:function(){f({isPlaybackDisabled:!1})},params:{media_id:a.id,module:"reel_feed_timeline"}},e)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("usePolarisStorySetup",["PolarisStoriesLoggingUtils","PolarisStoriesProvider.react","PolarisgetPostFromGraphMediaInterface","PolarisstorySelectors","PolarisuseEventListener","nullthrows","react","react-redux-wwwig","usePrevious"],function(a,b,c,d,e,f,g){"use strict";b=d("react");var h=b.useCallback,i=b.useEffect;function a(a,b){var e=d("PolarisStoriesProvider.react").useStoriesContext(),f=e.updateStoriesContext,g=d("react-redux-wwwig").useSelector(function(b){return b.stories.currentTrayOrder.indexOf(a.id)}),j=d("react-redux-wwwig").useSelector(function(b){return d("PolarisstorySelectors").getInitialReelIndex(b,a.id)}),k=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getTrayEntrypoint));i(function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.start(k,g),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewReel(g,j)},[j,g,k]);i(function(){return function(){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.clear()}},[]);var l=c("usePrevious")(a.id);i(function(){l!=null&&a.id!=null&&l!==a.id&&d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startNewReel(g,j)},[l,g,j,a.id]);i(function(){d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(b)!=null&&f({postIDThatShouldShowSensitiveContentOverlay:b.id})},[b,f]);e=h(function(){f({isHidden:document.hidden})},[f]);var m=h(function(){f({hasFocus:document.hasFocus()})},[f]);c("PolarisuseEventListener")(document,"visibilitychange",e);c("PolarisuseEventListener")(window,"focus",m);c("PolarisuseEventListener")(window,"blur",m)}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryViewer.react",["PolarisDesktopStoriesV2ReelViewer.react","PolarisMobileStoryViewer.react","PolarisStoriesIntegrityGuards.react","PolarisStoriesLoggingUtils","PolarisStoriesProvider.react","PolarisViewpointReact.react","PolarisVpvdImpressionAction","PolarispostSelectors","PolarisstorySelectors","PolarisuseAnalyticsContext","deferredLoadComponent","nullthrows","react","react-redux-wwwig","requireDeferred","useMergeRefs","usePolarisStorySetup"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useEffect,j=c("deferredLoadComponent")(c("requireDeferred")("PolarisStoryModals.react").__setRef("PolarisStoryViewer.react"));function a(a){var b,e=a.reelId,f=a.postId,g=a.reelItemIndex,k=a.viewerHeight,l=a.viewerWidth,m=a.isMobile;a=a.adImpressionRef;var n=c("nullthrows")(d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getReel(a,e)})),o=d("react-redux-wwwig").useSelector(function(a){return d("PolarispostSelectors").getPostById(a,f)}),p=d("react-redux-wwwig").useSelector(function(a){return a.stories.traySession}),q=d("react-redux-wwwig").useSelector(function(a){return a.stories.viewerSession}),r=c("PolarisuseAnalyticsContext")(),s=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getContainerModule);s=s.containerModule;b=(b=(b=d("PolarisStoriesLoggingUtils").StoriesLoggingSession.getData())==null?void 0:b.containermodule)!=null?b:s;c("usePolarisStorySetup")(n,o);s=d("PolarisStoriesProvider.react").useStoriesContext();var t=s.updateStoriesContext;i(function(){k!=null&&l!=null&&t({viewerWidth:l,viewerHeight:k})},[t,k,l]);s=d("PolarisVpvdImpressionAction").makeStoriesVpvdImpressionAction(n,g,p,q,r,b);r=n.id+((q=((p=n.itemIds)!=null?p:[])[g])!=null?q:"");b=d("PolarisViewpointReact.react").useViewpoint({action:[s],id:r});p=c("useMergeRefs")(b,a);return h.jsxs(h.Fragment,{children:[m===!0?h.jsx(c("PolarisMobileStoryViewer.react"),{innerRef:p,post:o,reel:n,reelItemIndex:g}):h.jsx(c("PolarisDesktopStoriesV2ReelViewer.react"),{innerRef:p,post:o,reel:n,reelItemIndex:g}),h.jsx(c("PolarisStoriesIntegrityGuards.react"),{}),h.jsx(j,{isMobile:m===!0})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisSponsoredStory.react",["PolarisErrorBoundary.react","PolarisStoryViewer.react","PolarisTrackingCodeProvider.react","PolarisViewpointActionUtils","PolarisadsSelectors","PolarisusePost","react","usePolarisStoryAdReelImpressionLogger"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=a.isMobile,e=a.reelId,f=a.postId;a=a.reelItemIndex;var g=d("PolarisadsSelectors").useStoryAdInfo(f,function(a){return a}),i=c("usePolarisStoryAdReelImpressionLogger")(g,e),j=d("PolarisusePost").usePost(f,function(a){return a.owner});return h.jsx(c("PolarisTrackingCodeProvider.react"),{isSponsored:!0,m_pk:(j=d("PolarisViewpointActionUtils").getMPKForStoryMedia(f,j))!=null?j:"",trackingToken:(j=g==null?void 0:g.tracking_token)!=null?j:"",children:h.jsx(c("PolarisStoryViewer.react"),{adImpressionRef:i,isMobile:b,postId:f,reelId:e,reelItemIndex:a})})}i.displayName=i.name+" [from "+f.id+"]";function a(a){return h.jsx(c("PolarisErrorBoundary.react"),{errorRenderer:function(a){return null},children:h.jsx(i,babelHelpers["extends"]({},a))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisSponsoredStoryOptionsModal.react",["IGCoreDialog","PolarisAdDebugToolModalContent.react","PolarisContainerModuleUtils","PolarisFRXReportModal.react","PolarisGenericStrings","PolarisHideAdDialogItem.react","PolarisODS","PolarisReportAdDialogItem.react","PolarisReportConstants","PolarisViewpointActionUtils","PolarisWAISTDialogItem.react","PolarisWAISTModalContent.react","PolarisadsSelectors","PolarisuseAnalyticsContext","cr:1468","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useState;function a(a){var e,f=a.post;a=a.onClose;var g=i("options"),j=g[0],k=g[1];g=function(){c("PolarisODS").incr("web.ads.story.report_option.click"),k("report")};var l=function(){c("PolarisODS").incr("web.ads.story.hide_option.click"),k("hide")},m=function(){k("waist")},n=function(){k("viewAdDebugTool")},o=c("PolarisuseAnalyticsContext")(),p=f.owner,q=d("PolarisadsSelectors").useStoryAdInfo(f.id,function(a){return a==null?void 0:a.ad_id}),r=d("PolarisadsSelectors").useStoryAdInfo(f.id,function(a){return a==null?void 0:a.tracking_token});e=(e=d("PolarisViewpointActionUtils").getMPKForStoryMedia(f.id,p))!=null?e:"";if(q==null||p==null)return null;switch(j){case"options":return h.jsxs(d("IGCoreDialog").IGCoreDialog,{onModalClose:a,children:[h.jsx(c("PolarisHideAdDialogItem.react"),{adId:q,adTrackingToken:r,mpk:e,onClick:l}),h.jsx(c("PolarisReportAdDialogItem.react"),{adId:q,adTrackingToken:r,mpk:e,onClick:g}),h.jsx(c("PolarisWAISTDialogItem.react"),{onClick:m}),b("cr:1468")!=null&&h.jsx(b("cr:1468"),{onClick:n}),h.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a,children:d("PolarisGenericStrings").CANCEL_TEXT})]});case"report":return h.jsx(c("PolarisFRXReportModal.react"),{containerModule:d("PolarisContainerModuleUtils").getContainerModule(o),frxEntryPoint:d("PolarisReportConstants").FRXEntryPoint.REPORT_AD_BUTTON,frxLocation:d("PolarisReportConstants").FRXLocation.STORY,frxObjectType:d("PolarisReportConstants").FRXObjectType.AD,onClose:a,reportedObjectID:q,reportedOwner:{id:p.id,username:p.username,profilePicURL:p.profilePictureUrl}});case"hide":return h.jsx(c("PolarisFRXReportModal.react"),{containerModule:d("PolarisContainerModuleUtils").getContainerModule(o),frxEntryPoint:d("PolarisReportConstants").FRXEntryPoint.HIDE_AD_BUTTON,frxLocation:d("PolarisReportConstants").FRXLocation.STORY,frxObjectType:d("PolarisReportConstants").FRXObjectType.AD,onClose:a,reportedObjectID:q,reportedOwner:{id:p.id,username:p.username,profilePicURL:p.profilePictureUrl}});case"waist":return h.jsx(c("PolarisWAISTModalContent.react"),{adId:q,onClose:a});case"viewAdDebugTool":return h.jsx(c("PolarisAdDebugToolModalContent.react"),{forFeed:!1,onClose:a,post:f});default:return null}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryVideoLogger",["PolarisVideoLogger","PolarisisUserLoggedIn"],function(a,b,c,d,e,f,g){"use strict";function a(a,b){a=[a,b,"reel_feed_timeline"];d("PolarisisUserLoggedIn").isUserLoggedIn()&&d("PolarisVideoLogger").logVideoEvent.apply(void 0,a)}function b(a,b,c){var d=b.id,e=b.owner;b=b.trackingToken;a=(a=a==null?void 0:a.videoWidth)!=null?a:null;d=babelHelpers["extends"]({id:d||"",ownerId:e&&e.id||"",trackingToken:b},c);a!=null&&a!==0&&(d.video_width=a);return d}g.logVideoEventWrapper=a;g.getLoggingExtra=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisuseDesktopStoriesGalleryIds",["PolarisstorySelectors","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){var c=Math.abs(b-4);b=Math.abs(a.length-b-5);c=Array(c).fill(null);b=Array(b).fill(null);return[].concat(c,a,b)}function a(){var a=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getReelGalleryReelIds),b=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelId});if(b==null)return[];b=a.indexOf(b);return h(a,b)}g.padReelIdsForLayout=h;g.useDesktopStoriesGalleryIds=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesGalleryConstants",[],function(a,b,c,d,e,f){"use strict";a={preview:.4,viewer:1};b=[a.preview,a.preview,a.preview,a.preview,a.viewer,a.preview,a.preview,a.preview,a.preview];c=b.slice(2,7);d=.5;e=1.5;var g=2,h=[{height:1,width:1,previewCount:d},{height:9,width:14,previewCount:e},{height:9,width:16,previewCount:g}];f.STORY_GALLERY_ITEM_SCALES=a;f.GALLERY=b;f.VISIBLE_GALLERY=c;f.PREVIEW_COUNT_0_5_CROP=d;f.PREVIEW_COUNT_1_5_CROP=e;f.PREVIEW_COUNT_2_CROP=g;f.ASPECT_RATIOS=h},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisuseDesktopStoriesGallerySize",["PolarisDesktopStoriesGalleryConstants","PolarisuseIGCoreWindowSize"],function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("PolarisuseIGCoreWindowSize")(),b=a.innerHeight,e=a.innerWidth;a=(a=d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS.find(function(a,c){return b/e>=a.height/a.width}))!=null?a:d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS[d("PolarisDesktopStoriesGalleryConstants").ASPECT_RATIOS.length-1];var f=Math.min(e,b*(a.width/a.height)),g=Math.min(b,e*(a.height/a.width));return{aspectRatio:a,maxGalleryHeight:g,maxGalleryWidth:f}}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisuseDesktopStoriesGallerySprings",["PolarisDesktopStoriesGalleryConstants","PolarisStyleConstants","PolarisuseIGCorePreviousValue","react","react-spring-wwwig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useEffect;function i(a){return(a=d("PolarisDesktopStoriesGalleryConstants").GALLERY[a])!=null?a:d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview}function j(a,b,c){b=a+b;return c?i(b):i(a)}function k(a,b,c,e,f){var g=a;e?g=a+c:g=a;c=d("PolarisDesktopStoriesGalleryConstants").GALLERY.slice(0,Math.max(0,g)).reduce(function(a,c,d){return a+b.viewer.width*c+b.gutter.width},b.gutter.width);g=b.viewer.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview;var h=2*(g+b.gutter.width);if(f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_1_5_CROP){var i=.5*g;h=h+i+b.gutter.width}if(f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_0_5_CROP){i=1.5*g;h=h+i+b.gutter.width*2}g=0;f===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_2_CROP&&(!e&&a===1&&(g=-2),!e&&a===d("PolarisDesktopStoriesGalleryConstants").GALLERY.length-2&&(g=2));return c-h+g}function l(a,b){if(a.length!==b.length)return null;var c=a.length-1;for(var d=a.length-1;d>=0;d--)if(a[d]!==null){c=d;break}d=b.indexOf(a[c]);if(d!==-1)return c-d;c=0;for(var d=0;d<a.length;d++)if(a[d]!==null){c=d;break}d=b.indexOf(a[c]);return d!==-1?c-d:null}function m(a,b,c,d,e,f){d===void 0&&(d=2);e===void 0&&(e=!1);return function(g){g===void 0&&(g=0);var h=j(g,c,!0),i=j(g,c,!1),l=k(g,b,c,!0,d),m=k(g,b,c,!1,d),n=g===4;return{from:{scale:h,x:l},to:{scale:i,x:m},immediate:e,onRest:f!=null&&n?function(){return f(a[g])}:function(){}}}}function n(a,b){a=a*b;return{width:a*c("PolarisStyleConstants")["story-viewer-aspect-ratio-w-h"].value,height:a}}function a(a,b,e,f,g){var i=n(e,c("PolarisStyleConstants")["story-viewer-large-height-pct"].value),j={viewer:i,gutter:{width:0,height:0}};e=d("PolarisDesktopStoriesGalleryConstants").VISIBLE_GALLERY.reduce(function(a,b){return a+i.width*b},0);var k=(f-e)/6;if(b.previewCount===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_1_5_CROP){var o=i.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview;e-=o;k=(f-e)/4}if(b.previewCount===d("PolarisDesktopStoriesGalleryConstants").PREVIEW_COUNT_0_5_CROP){o=i.width*d("PolarisDesktopStoriesGalleryConstants").STORY_GALLERY_ITEM_SCALES.preview*3;e-=o;k=(f-e)/2}j.gutter.width=k;o=d("react-spring-wwwig").useSprings(a.length,m(a,j,0,b.previewCount,!0,g));f=o[0];var p=o[1],q=c("PolarisuseIGCorePreviousValue")(a),r=c("PolarisuseIGCorePreviousValue")(j.viewer.height),s=c("PolarisuseIGCorePreviousValue")(j.gutter.width);h(function(){var c=q!=null&&q.join()!==a.join(),d=r!=null&&r!==j.viewer.height||s!=null&&s!==j.gutter.width;if(c||d){c=l((c=q)!=null?c:[],a);d=c===null||d;c=(c=c)!=null?c:0;p(m(a,j,c,b.previewCount,d,g))}},[a,j,q,p,r,s,b.previewCount,g]);return[i.height,i.width,f]}g.calcX=k;g.calcIndexAdjustment=l;g.useDesktopStoriesGallerySprings=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("usePolarisReelNotAvailable",["IGRouter","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react").useLayoutEffect;function a(a,b){var c=d("IGRouter").useIGHistory(),e=a===!1&&(b===null||(b==null?void 0:(a=b.itemIds)==null?void 0:a.length)===0);h(function(){e&&c.push("/")},[c,e]);return e}g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisCloseFriendsInfoDialog.react",["cx","fbt","IGCoreDialog","PolarisAssetManagerGlyphMapping","PolarisGenericStrings","PolarisIGCoreAvatar","PolarisIGCoreBox","PolarisIGCoreConstants","PolarisIGCoreIcon","PolarisStoriesStrings","PolarispostSelectors","PolarisuserSelectors","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");function a(a){var b=j.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",children:[j.jsx(c("PolarisIGCoreBox"),{height:c("PolarisIGCoreConstants").AVATAR_SIZES.medium,children:j.jsx(c("PolarisIGCoreAvatar"),{alt:i._("{username}'s profile picture",[i._param("username",a.username)]),size:"medium",src:a.profilePicUrl})}),j.jsx("div",{className:"_abeg",children:j.jsx(c("PolarisIGCoreIcon"),{alt:d("PolarisStoriesStrings").CLOSE_FRIENDS,icon:d("PolarisAssetManagerGlyphMapping").ICONS.GLYPH_CIRCLE_STAR})})]});return j.jsx(d("IGCoreDialog").IGCoreDialog,{body:a.isVideo?d("PolarisStoriesStrings").CLOSE_FRIENDS_INFO_VIDEO(a.username):d("PolarisStoriesStrings").CLOSE_FRIENDS_INFO_PHOTO(a.username),media:b,onModalClose:a.onClose,title:d("PolarisStoriesStrings").CLOSE_FRIENDS_ONLY,children:j.jsx(d("IGCoreDialog").IGCoreDialogItem,{onClick:a.onClose,children:d("PolarisGenericStrings").CLOSE_TEXT})})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){var e=d("PolarisuserSelectors").getUserById(a,b.userId);a=d("PolarispostSelectors").getPostById(a,b.postId);return{isVideo:a.isVideo||!1,username:c("nullthrows")(e.username),profilePicUrl:c("nullthrows")(e.profilePictureUrl)}}e=d("react-redux-wwwig").connect(b)(a);g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisExclusiveStoryInfoDialog.react",["cx","fbt","ix","IGCoreDialog","IGCoreImage","PolarisGenericStrings","PolarisIGCoreBox","PolarisStoriesStrings","react"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");function a(a){var b=k.jsx(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",justifyContent:"center",children:k.jsx("div",{className:"_ac4c",children:k.jsx(c("IGCoreImage"),{alt:i._("Subscriber crown badge"),src:{light:j("170653")}})})});return k.jsx(d("IGCoreDialog").IGCoreDialog,{body:d("PolarisStoriesStrings").EXCLUSIVE_STORY_INFO(a.username),media:b,onModalClose:a.onClose,title:d("PolarisStoriesStrings").EXCLUSIVE_STORY_ONLY,children:k.jsx(d("IGCoreDialog").IGCoreDialogItem,{color:"ig-primary-button",onClick:a.onClose,children:d("PolarisGenericStrings").DONE_TEXT})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisHighlightsTrayModal.react",["fbt","PolarisIGCoreBox","PolarisIGCoreSheetOrModal","PolarisProfilePostsActions","PolarisProfileStoryHighlightsTray.react","PolarisStoriesProvider.react","PolarisStoryActions","PolarisuserSelectors","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect;function a(a){var b=a.currentPost;a=d("PolarisStoriesProvider.react").useStoriesContext();var e=a.updateStoriesContext,f=d("react-redux-wwwig").useSelector(function(a){return c("nullthrows")(d("PolarisuserSelectors").getViewer(a))}),g=d("react-redux-wwwig").useDispatch(),l=j(function(){e({isHighlightsTrayActive:!1})},[e]),m=d("react-redux-wwwig").useSelector(function(a){return a.stories.highlightReelsByUserId.get(f.id)});k(function(){m==null&&g(d("PolarisProfilePostsActions").loadProfilePageExtras(f.id,{fetchHighlightReels:!0}))},[g,f.id,m]);var n=b.highlightReelIds;a=function(a){var c;g(d("PolarisStoryActions").editStoryInHighlightAction(((c=n==null?void 0:n.indexOf(a.id))!=null?c:-1)===-1,b.id,a.id,f.id,a.title));l()};return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:l,title:h._("Add to highlights"),children:i.jsx(c("PolarisIGCoreBox"),{paddingY:8,children:i.jsx(c("PolarisProfileStoryHighlightsTray.react"),{highlightReelIdsWithOverlay:n,isSmallScreen:!1,onClick:a,storyEntrypoint:!0,user:f,userId:f.id,viewer:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisLocationSelectors",[],function(a,b,c,d,e,f){"use strict";function a(a){return function(b){return(b=b.locations[a])!=null?b:null}}f.getLocation=a},66,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisLoginPageHelpers",["PolarisLinkBuilder","PolarisLocationSelectors","PolarisuserSelectors","nullthrows","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";function a(a){return d("react-redux-wwwig").useSelector(function(b){return h(b,a)})}function h(a,b){var e={contentLink:"",displayPicUrl:"",displayName:"",type:"user"};if(b.initializing===!0)return e;if(b.locationId!=null){var f=c("nullthrows")(b.locationId),g=c("nullthrows")(d("PolarisLocationSelectors").getLocation(f)(a));e={contentLink:d("PolarisLinkBuilder").buildLocationLink({id:f}),displayPicUrl:c("nullthrows")(g.profilePictureUrl),displayName:c("nullthrows")(g.name),type:"location"}}else if(b.tagName!=null){f=c("nullthrows")(b.tagName);g=c("nullthrows")(a.tags.get(f));e={contentLink:d("PolarisLinkBuilder").buildTagLink(f),displayPicUrl:c("nullthrows")(g.profilePictureUrl),displayName:f,type:"tag"}}else if(b.highlightReelId!=null){g=c("nullthrows")(b.username);f=d("PolarisuserSelectors").getUserByUsername(a,g);e={contentLink:d("PolarisLinkBuilder").buildUserLink(g),displayPicUrl:c("nullthrows")(f.profilePictureUrl),displayName:c("nullthrows")(b.highlightReelTitle)+" (@"+g+")",type:"highlight"}}else{f=c("nullthrows")(b.username);g=d("PolarisuserSelectors").getUserByUsername(a,f);e={contentLink:d("PolarisLinkBuilder").buildUserLink(f),displayPicUrl:c("nullthrows")(g.profilePictureUrl),displayName:c("nullthrows")(g.username),type:"user"}}return e}g.useCommonMapStateToProps=a;g.commonMapStateToProps=h},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryOptionsModal.react",["fbt","AboutThisAccountRefererTypes","PolarisAboutThisAccountModal.react","PolarisAboutThisAccountUtils","PolarisClipboard","PolarisConfirmDialog.react","PolarisCreateAndAddHighlightsModal.react","PolarisFRXReportModal.react","PolarisGraphQLTypes","PolarisInsightsUtils","PolarisLinkBuilder","PolarisOptionsModal.react","PolarisPostActions","PolarisPostFastOptionCopyLink.react","PolarisQEHelper","PolarisReportConstants","PolarisStoriesContext","PolarisToastActions","PolarisisUserLoggedIn","PolarisstorySelectors","PolarisuserSelectors","URI","cr:409","cr:410","nullthrows","qex","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function j(a){return function(){return{modalType:a}}}f=function(a){babelHelpers.inheritsLoose(e,a);function e(b){var e;e=a.call(this,b)||this;e.$1=function(){var a=new(c("URI"))("https://www.instagram.com"+d("PolarisLinkBuilder").buildHighlightStoryLink(e.props.reel.id)).addQueryData("utm_source","ig_web_options_menu");d("PolarisClipboard").copy(a.toString())&&(e.props.onLinkCopied(),e.props.onClose())};e.$2=function(){e.props.onDeletePost(e.props.currentPost.id),e.props.onClose()};e.$3=function(){e.setState(j("delete"))};e.$4=function(){e.setState(j("edit"))};e.$5=function(){e.setState(j("report"))};e.$6=function(){e.setState(j("view_insights"))};e.$7=function(){e.setState(j("about_this_account"))};e.state={modalType:"options"};return e}var f=e.prototype;f.render=function(){var a=this.props,e=a.analyticsContext,f=a.currentPost,g=a.onClose,j=a.reel,k=a.viewer,l=a.viewingOwnStory;a=a.user;var m=d("PolarisInsightsUtils").getViewInsightsInfo(k,f.owner,f,!!f.canSeeInsightsAsBrand,!!(k==null?void 0:k.canSeeOrganicInsights));m=m.hasViewInsights;var n=!1;a&&(n=d("PolarisAboutThisAccountUtils").getUserIsEligibleToViewAccountTransparency(a));a=!d("PolarisisUserLoggedIn").isUserLoggedIn()&&c("qex")._("70")===!0;var o=j.type===d("PolarisGraphQLTypes").GRAPH_HIGHLIGHT_REEL;switch(this.state.modalType){case"options":return i.jsx(c("PolarisOptionsModal.react"),{analyticsContext:e,code:f.code!=null&&f.code!==""?f.code:"",hasAboutThisAccountOption:n,hasCopyHighlightLinkAndShareToOptions:a,hasDeleteOption:l,hasEditOption:l&&o&&d("PolarisQEHelper").hasEditHighlightEnabled(),hasEmbedOption:!1,hasGoToOption:!1,hasReportInappropriateOption:!l,hasShareOption:!1,hasViewInsightsOption:m,id:f.id,onAboutThisAccountClick:this.$7,onClose:g,onCopyHighlightLinkClick:this.$1,onDeleteClick:this.$3,onEditClick:this.$4,onReportInappropriateClick:this.$5,onViewInsightsClick:this.$6,postType:f.isVideo===!0?"video":"photo"});case"report":e=c("nullthrows")(f.owner);n=f.id;return i.jsx(c("PolarisFRXReportModal.react"),{frxLocation:d("PolarisReportConstants").FRXLocation.STORY,frxObjectType:d("PolarisReportConstants").FRXObjectType.MEDIA,onClose:g,reportedObjectID:n,reportedOwner:{id:e.id,username:e.username,profilePicURL:e.profilePictureUrl}});case"edit":if(k){return i.jsx(c("PolarisCreateAndAddHighlightsModal.react"),{currentHighlightStoryIds:(a=j.itemIds)!=null?a:[],editing:!0,highlightId:(o=j.id)!=null?o:"",highlightName:(l=j.title)!=null?l:"",highlightThumbnailUrl:(m=j.originalThumbnailUrl)!=null?m:null,onClose:g,user:k})}case"delete":return f.isVideo===!0?i.jsx(c("PolarisConfirmDialog.react"),{body:h._("Are you sure that you want to delete this video from your story?"),confirmLabel:h._("Delete"),onClose:g,onConfirm:this.$2,title:h._("Delete story?")}):i.jsx(c("PolarisConfirmDialog.react"),{body:h._("Are you sure that you want to delete this photo from your story?"),confirmLabel:h._("Delete"),onClose:g,onConfirm:this.$2,title:h._("Delete story?")});case"view_insights":if(b("cr:409"))return i.jsx(b("cr:409"),{appId:"com.instagram.insights.media.stories.bottom_sheet.action",bridgeOverrides_DEPRECATED:{onResumeStoryPlayback:g},params:{media_id:f.id}});else if(b("cr:410"))return i.jsx(b("cr:410"),{appId:"com.instagram.insights.media.stories.bottom_sheet.action",onResumeStoryPlayback:g,params:{media_id:f.id}});case"about_this_account":return i.jsx(c("PolarisAboutThisAccountModal.react"),{onClose:g,referer_type:c("AboutThisAccountRefererTypes").STORY,user:c("nullthrows")(f.owner)});default:return null}};return e}(i.Component);f.contextType=d("PolarisStoriesContext").StoriesContext;function a(a){return babelHelpers["extends"]({},d("PolarisstorySelectors").getContainerModule(a),{viewer:d("PolarisuserSelectors").getViewer(a)})}function e(a){return{onDeletePost:function(b){return a(d("PolarisPostActions").deletePost(b))},onLinkCopied:function(){return a(d("PolarisToastActions").showToast({text:d("PolarisPostFastOptionCopyLink.react").LINK_COPIED_PROMPT}))}}}a=d("react-redux-wwwig").connect(a,e)(f);g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryOptionsModalPicker.react",["PolarisSponsoredStoryOptionsModal.react","PolarisStoriesProvider.react","PolarisStoryOptionsModal.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b=a.analyticsContext,e=a.currentPost,f=a.currentReelItemIndex,g=a.onModalClose,i=a.reel,j=a.reelPositionInTray,k=a.traySession,l=a.user,m=a.viewerId,n=a.viewerSession;a=a.viewingOwnStory;var o=d("PolarisStoriesProvider.react").useStoriesContext();o=o.isModalActive;return o?e.isSponsored?h.jsx(c("PolarisSponsoredStoryOptionsModal.react"),{onClose:g,post:e}):h.jsx(c("PolarisStoryOptionsModal.react"),{analyticsContext:b,currentPost:e,currentReelItemIndex:f,onClose:g,reel:i,reelPositionInTray:j,traySession:k,user:l,viewerId:m,viewerSession:n,viewingOwnStory:a}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryViewerSlider.react",["PolarisIGCoreBox","react","stylex"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useLayoutEffect,j=b.useState,k={container:{appearance:"qgrdou9d",backgroundColor:"qp4so0pq",outline:"icdlwmnq",width:"mfclru0v",height:"izqeatg5",paddingTop:"ngbj85sm",paddingEnd:"oxkhqvkx",paddingBottom:"rt9i6ysf",paddingStart:"nch0832m",borderTopStartRadius:"h8391g91",borderTopEndRadius:"m0cukt09",borderBottomEndRadius:"kpwa50dg",borderBottomStartRadius:"ta68dy8c","::thumb":{appearance:"s4bzsdlu"},"::-moz-range-thumb":{background:"khgl9sov",borderTop:"n9ui7kix",borderEnd:"f4f0bq32",borderBottom:"t7247syq",borderStart:"jdrr1atr"}},sliderThumb:{borderTop:"qbnfvvao",borderEnd:"rfumiier",borderBottom:"s2k15n8z",borderStart:"f3uxpdrw",backgroundColor:"sn8wo72s",position:"s8sjc6am",borderTopStartRadius:"qmqpeqxj",borderTopEndRadius:"e7u6y3za",borderBottomEndRadius:"qwcclf47",borderBottomStartRadius:"nmlomj2f"},sliderThumbLarge:{height:"dmdr2h6l",width:"kgzac55p"},sliderThumbSmall:{height:"k250bvdn",width:"cv5aopd8"},emoji:{width:"jjot6st7",position:"om3e55n1"}};function l(a,b){a.style.backgroundImage="linear-gradient(to right, rgb(163, 7, 186) 0%, rgb(237, 73, 86) "+b+"%, rgb(var(--ig-separator)) "+b+"%, rgb(var(--ig-separator)) 100%"}function a(a){var b=a.emoji,d=a.value,e=a.showFloatingEmoji,f=a.smallerThumb;f=f===void 0?!1:f;a=a.width;a=a===void 0?150:a;var g=j(null),m=g[0];g=g[1];var n=12,o=20,p=24,q=d*100;i(function(){m&&l(m,q)},[m,q]);n=f?n:o;o=d*a-n*d;return h.jsxs(c("PolarisIGCoreBox"),{direction:"column",display:"flex",paddingY:1,width:a,children:[e&&h.jsx("div",{className:c("stylex")(k.emoji),style:{fontSize:p,left:o,padding:"8px 0px"},children:b}),h.jsxs(c("PolarisIGCoreBox"),{display:"flex",height:n,justifyContent:"center",width:"100%",children:[h.jsx("input",{className:c("stylex")(k.container),disabled:!0,max:100,min:0,ref:g,type:"range",value:q}),h.jsx("div",{className:c("stylex")([k.sliderThumb,f?k.sliderThumbSmall:k.sliderThumbLarge]),style:{left:o}})]})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStorySliderVoter.react",["PolarisStoryViewerSlider.react","PolarisUserListItem.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=150;function a(a){var b=a.index,d=a.onScrollEnter,e=a.onUsernameClick,f=a.storySliderVoter,g=a.isVisible,j=a.avatarSize;a=a.entryPoint;return h.jsx(c("PolarisUserListItem.react"),{avatarSize:j,borderlessFollowButton:!1,entryPoint:a,hideFollowButton:!0,hideName:!1,hideStoryRings:!0,hoverPositionType:"absolute",id:f.id,isVisible:g,onScrollEnter:d,onUsernameClick:e,position:b,subtitle:h.jsx(c("PolarisStoryViewerSlider.react"),{showFloatingEmoji:!1,smallerThumb:!0,value:(j=f.vote)!=null?j:0,width:i})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStorySliderUserList.react",["fbt","PolarisErrorBoundaryWithHoldout.react","PolarisIGCoreBox","PolarisIGCoreButton","PolarisIGCoreListItemPlaceholder","PolarisIGCoreSpinner","PolarisIGCoreText","PolarisIGVirtualList.react","PolarisStorySliderVoter.react","PolarisUserListItem.react","emptyFunction","react","usePrevious"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useEffect,k=b.useState,l=10,m=65;function a(a){var b=a.avatarSize,d=a.containerSize;d=d===void 0?"auto":d;var e=a.currentPost,f=a.entryPoint,g=f===void 0?"unknown":f;f=a.hideStoryRings;var n=f===void 0?!1:f;f=a.initialRenderCount;var o=f===void 0?l:f;f=a.isLoading;var p=f===void 0?!1:f,q=a.likers,r=a.moreSliderVotersButton,s=a.onLoadStorySliderVoters;f=a.onScroll;var t=a.storySliderVoterCount,u=a.storySliderVoters,v=a.topComponent,w=a.userIds,x=i.createRef();a=k(0);var y=a[0],z=a[1],A=c("usePrevious")(y);j(function(){x.current!=null&&w.length===o&&A===0&&x.current.forceUpdate(),z(w.length)},[w,x,o,A]);a=function(a){var d=a.index;a=a.isVisible;if(w.length===0)return p?i.jsx(c("PolarisIGCoreListItemPlaceholder"),{size:b},d):null;return d<t?i.jsxs(c("PolarisErrorBoundaryWithHoldout.react"),{children:[d===0&&v!=null&&v,d===0&&i.jsx("div",{className:"e4ay1f3w rj2hsocd aesu6q9g s1m0hq7j",children:i.jsx(c("PolarisIGCoreText").Section,{children:h._("Answers")})}),i.jsx(c("PolarisStorySliderVoter.react"),{avatarSize:b,entryPoint:g,index:d,isVisible:a,onScrollEnter:c("emptyFunction"),onUsernameClick:c("emptyFunction"),storySliderVoter:u[d]}),d===u.length-1&&r===!0&&i.jsx("div",{className:"fk6all4f opq2i7zj gy0o2fvl ge6p7dzx d0zo1wru",children:i.jsx(c("PolarisIGCoreButton"),{borderless:!0,color:"web-always-white",onClick:function(){var a;return s(e.id,(a=(a=e.storySliders)==null?void 0:(a=a[0])==null?void 0:a.id)!=null?a:"")},children:i.jsx(c("PolarisIGCoreText").Section,{children:h._("See All")})})}),d===u.length-1&&i.jsx("div",{className:"e4ay1f3w rj2hsocd aesu6q9g s1m0hq7j",children:i.jsx(c("PolarisIGCoreText").Section,{children:h._("Viewers")})})]},u[d].ts):i.jsxs(c("PolarisErrorBoundaryWithHoldout.react"),{children:[d===0&&v!=null&&v,i.jsx(c("PolarisUserListItem.react"),{avatarSize:b,borderlessFollowButton:!1,entryPoint:g,hasLiked:q==null?void 0:q.has(w[d-t]),hideFollowButton:!0,hideName:!1,hideStoryRings:n,id:w[d-t],isVisible:a,onScrollEnter:c("emptyFunction"),onUsernameClick:c("emptyFunction"),position:d-t})]},w[d-t])};return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGVirtualList.react"),{containerSize:d,estimatedItemSize:m,initialRenderCount:o,itemCount:w.length+t||o+t,onScroll:f,pageletName:"UserList",ref:x,renderer:a,style:p&&w.length===0?{overflowY:"hidden"}:{}}),p&&i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",marginTop:4,children:i.jsx(c("PolarisIGCoreSpinner"),{size:"medium"})})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryViewerSliderSummary.react",["fbt","PolarisIGCoreBox","PolarisIGCoreText","PolarisStoryViewerSlider.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=214;function a(a){var b,d;a=a.storySlider;b=(b=a==null?void 0:a.emoji)!=null?b:"";d=(d=a==null?void 0:a.slider_vote_average)!=null?d:0;a=(a=a==null?void 0:a.slider_vote_count)!=null?a:0;return i.jsxs("div",{className:"i85zmo3j jcxyg2ei cqf1kptm alzwoclg rbcf3a04 gt60zsk1 q6feio67 r227ecj6 h6ft4zvz hsphh064",children:[i.jsx(c("PolarisIGCoreBox"),{paddingY:4,children:i.jsx(c("PolarisStoryViewerSlider.react"),{emoji:b,showFloatingEmoji:!0,value:d,width:j})}),i.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",children:h._({"*":"{storySliderVoteCount} people answered. This is the average answer.","_1":"1 person answered. This is the average answer."},[h._plural(a,"storySliderVoteCount",a)])})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryViewerList.react",["fbt","PolarisIGCoreBox","PolarisIGCoreSheetOrModal","PolarisIGCoreText","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStorySliderUserList.react","PolarisStoryViewerSliderSummary.react","PolarisUA","gkx","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useCallback,k=b.useEffect,l=48,m=44;function a(a){var b=a.avatarSize,e=b===void 0?"small":b,f=a.canLoadMoreViewers,g=a.currentPost;b=a.hideStoryRings;var n=b===void 0?!0:b;b=a.initialRenderCount;var o=b===void 0?d("PolarisStoryActions").STORY_VIEWERS_FETCH_COUNT_DEFAULT:b,p=a.isLoading,q=a.onLoadStorySliderVoters,r=a.storyViewers;b=d("PolarisStoriesProvider.react").useStoriesContext();var s=b.updateStoriesContext,t=d("react-redux-wwwig").useDispatch(),u=function(a){!p&&f&&a.numScreensFromEnd===0&&a.numScreensFromStart>0&&t(d("PolarisStoryActions").loadStoryViewers({itemId:g.id}))},v=function(){var a;q(g.id,(a=(a=g.storySliderVoterInfos)==null?void 0:(a=a[0])==null?void 0:a.slider_id)!=null?a:"")};a=j(function(){s({isStoryViewerListActive:!1})},[s]);k(function(){!p&&f&&t(d("PolarisStoryActions").loadStoryViewers({itemId:g.id}))},[g,p,f,t]);b=function(a){var b,d;a=a-m;b=(b=(b=g.storySliders)==null?void 0:b[0].slider_sticker)!=null?b:null;d=(d=(d=g.storySliderVoterInfos)==null?void 0:(d=d[0])==null?void 0:d.voters)!=null?d:null;var f=d!=null?c("gkx")("986")===!1?d.length:0:0;return r.length===0?i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",height:a,justifyContent:"center",children:i.jsx(c("PolarisIGCoreText").Body,{color:"ig-secondary-text",children:h._("No one has seen this yet.")})}):i.jsx(c("PolarisStorySliderUserList.react"),{avatarSize:e,containerSize:p?a-l:a,currentPost:g,entryPoint:"story_viewer_list",hideStoryRings:n,initialRenderCount:o,isLoading:p,likers:new Set(r.filter(function(a){return a.hasLiked}).map(function(a){return a.user.id})),moreSliderVotersButton:(a=(a=g.storySliderVoterInfos)==null?void 0:(a=a[0])==null?void 0:a.more_available)!=null?a:!1,onLoadStorySliderVoters:v,onScroll:u,storySliderVoterCount:f,storySliderVoters:(a=d==null?void 0:d.map(function(a){var b;return{vote:(b=a.vote)!=null?b:0,id:(b=a.user)!=null?b:"",ts:(b=a.ts)!=null?b:0}}))!=null?a:[],topComponent:b!=null&&c("gkx")("986")===!1&&i.jsx(c("PolarisStoryViewerSliderSummary.react"),{storySlider:b}),userIds:r.map(function(a){return a.user.id})})};return i.jsx(d("PolarisIGCoreSheetOrModal").IGCoreSheetOrModal,{onClose:a,stops:["50%","100%"],title:h._("Viewers"),children:d("PolarisUA").isMobile()?b:b(d("PolarisIGCoreSheetOrModal").DEFAULT_CONTAINER_MAX_HEIGHT)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryModals.react",["PolarisCloseFriendsInfoDialog.react","PolarisExclusiveStoryInfoDialog.react","PolarisGroupProfileUtils","PolarisHighlightsTrayModal.react","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryOptionsModalPicker.react","PolarisStoryViewerList.react","PolarisstorySelectors","PolarisuseAnalyticsContext","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=d("react").useCallback;function a(a){a=a.isMobile;var b=c("PolarisuseAnalyticsContext")(),e=d("react-redux-wwwig").useDispatch(),f=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentReel),g=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentReelOwner),j=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentTrayOrder.indexOf(f==null?void 0:f.id)}),k=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelItemIndex}),l=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostId),m=d("react-redux-wwwig").useSelector(function(a){return a.posts.byId.get((a=l)!=null?a:"")}),n=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostAuthor),o=d("react-redux-wwwig").useSelector(function(a){return a.stories.traySession}),p=d("react-redux-wwwig").useSelector(function(a){return a.users.viewerId}),q=d("react-redux-wwwig").useSelector(function(a){return a.stories.viewerSession}),r=(f==null?void 0:f.userId)===p||d("PolarisGroupProfileUtils").getIsUserGroupProfile(g)&&(m==null?void 0:m.ownerId)===p,s=d("react-redux-wwwig").useSelector(function(a){return a.stories.isLoadingStoryViewers}),t=d("react-redux-wwwig").useSelector(function(a){return a.stories.isLoading||(f==null?void 0:f.isLoading)||l!=null&&d("PolarisstorySelectors").getStoryViewersPageInfoById(a,l).has_next_page}),u=i(function(a,b){e(d("PolarisStoryActions").loadStorySliderVoters({itemId:a,sliderId:b}))},[e]),v=d("PolarisStoriesProvider.react").useStoriesContext(),w=v.isCloseFriendsDialogActive,x=v.isExclusiveStoryDialogActive,y=v.isHighlightsTrayActive,z=v.isStoryViewerListActive,A=v.updateStoriesContext;return m==null||f==null||n==null||(g==null?void 0:g.id)==null?null:h.jsxs(h.Fragment,{children:[h.jsx(c("PolarisStoryOptionsModalPicker.react"),{analyticsContext:b,currentPost:m,currentReelItemIndex:k,onModalClose:function(){return A({isModalActive:!1})},reel:f,reelPositionInTray:j,traySession:o,user:n,viewerId:p,viewerSession:q,viewingOwnStory:r}),a!==!0&&y&&r&&h.jsx(c("PolarisHighlightsTrayModal.react"),{currentPost:m}),z&&r&&h.jsx(c("PolarisStoryViewerList.react"),{canLoadMoreViewers:t,currentPost:m,isLoading:s,onLoadStorySliderVoters:u,storyViewers:m.storyViewers||[],traySessionId:o,viewerSessionId:q}),w&&h.jsx(c("PolarisCloseFriendsInfoDialog.react"),{onClose:function(){A({isCloseFriendsDialogActive:!1})},postId:m.id,userId:g.id}),x&&h.jsx(c("PolarisExclusiveStoryInfoDialog.react"),{onClose:function(){A({isExclusiveStoryDialogActive:!1})},username:c("nullthrows")(g.username)})]})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryVideoOverlay.react",["cx","fbt","joinClasses","react"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useCallback,l=b.useEffect,m=b.useRef,n=b.useState;function a(a,b){var d=n(!1),e=d[0],f=d[1],g=a.onLoad,h=k(function(){e||(g(),f(!0))},[e,f,g]);l(function(){b&&b.complete&&h()},[b,h]);d=m(b);return j.jsx("img",{alt:i._("Story video overlay"),className:c("joinClasses")("_ac5l",a.className),onLoad:h,ref:d,src:a.src})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoryVideo.react",["cx","PolarisConfig","PolarisEventLoop","PolarisIGCoreBox","PolarisIGCoreSpinner","PolarisLogger","PolarisODS","PolarisPageIdentifierConstants","PolarisResponsiveImage.react","PolarisResponsiveVideo.react","PolarisStoriesContext","PolarisStoriesLoggingUtils","PolarisStoryConstants","PolarisStoryMediaDebugger.prerelease","PolarisStoryMediaLayout.react","PolarisStoryPerformanceLogger","PolarisStoryPreview.react","PolarisStoryVideoLogger","PolarisStoryVideoOverlay.react","PolarisStyleConstants","PolarisUA","PolarisVideoLogger","PolarisdeveloperSettings","PolarisvideoEventLogger","PolariswithRemountOnChange","gkx","joinClasses","lodash-once","nullthrows","qex","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j="data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7";b=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),h=0;h<f;h++)g[h]=arguments[h];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={attemptingAutoplay:e.props.autoPlay,isBuffering:!1,isEnded:!1,isOverlayLoaded:!1,isPlaying:!1,isPosterLoaded:!1,isVideoLoaded:!1},e.$1=!1,e.$2=0,e.$3=!1,e.$4=0,e.$5=1,e.$6=!1,e.$7=null,e.$8=null,e.$12=function(){e.$13(),e.props.isPlaybackDisabled||e.$14()},e.$13=c("lodash-once")(function(){e.props.onPostSeen()}),e.$10=function(){e.$7!=null&&e.$7!==0&&(c("PolarisEventLoop").clearInterval(e.$7),e.$7=null)},e.$14=function(){if(e.$7!=null&&e.$7!==0||e.props.videoRef.current==null)return;var a=e.props.videoRef.current;e.$7=c("PolarisEventLoop").setInterval(function(){if(!e.$17())!isNaN(a.duration)&&!isNaN(a.currentTime)&&e.props.onUpdatePlayPercentage(Math.min(100,a.currentTime*100/a.duration));else{e.$2+=d("PolarisStoryConstants").STORY_UPDATE_TICK_S;var b=e.$2*100/c("PolarisStyleConstants")["story-image-duration"].value;b=Math.min(b,100);e.props.onUpdatePreplayPercentage(b);b===100&&e.$18()}},d("PolarisStoryConstants").STORY_UPDATE_TICK_MS)},e.resume=function(){e.$19()},e.$21=function(){var a=e.props.videoRef;a.current&&(e.$4=a.current.currentTime,e.$8=c("PolarisEventLoop").setInterval(function(){a.current&&((a.current.paused||a.current.currentTime===e.$4)&&a.current.play(),e.$4=a.current.currentTime)},d("PolarisStoryConstants").STORY_UPDATE_TICK_MS))},e.$22=function(){e.$8!=null&&e.$8!==0&&(c("PolarisEventLoop").clearInterval(e.$8),e.$8=null)},e.$23=c("lodash-once")(function(){e.props.autoPlay&&e.$20("autoplay")}),e.play=function(){e.$6=!0,e.$20(e.props.loggerValuesRef.current.initialShouldStarted||e.props.loggerValuesRef.current.initialStartedPlaying?"clicktoplay":"resume")},e.pause=function(){e.$24()},e.$9=function(){if(e.props.videoRef.current){var a=e.props.loggerValuesRef.current,b=e.props.videoRef.current;d("PolarisvideoEventLogger").logVideoExitedEvent(babelHelpers["extends"]({},e.$11(),{lastStartPosition:a==null?void 0:a.lastStartPosition,exitTime:d("PolarisVideoLogger").normalizeVideoEvent(b==null?void 0:b.currentTime),hasPlayedVideo:e.$3,loopsCount:0}));e.props.videoRef.current=null}},e.$25=function(){e.setState({isBuffering:!0})},e.$26=function(){d("PolarisvideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},e.$11(),{lastStartPosition:e.props.loggerValuesRef.current.lastStartPosition,loopsCount:0,playingAudio:e.context.isMuted?0:1})),e.$18()},e.$18=function(){e.$10(),e.props.onNext("automatic_forward"),e.setState({isEnded:!0})},e.$27=function(){e.$10(),e.setState({isBuffering:!1,isPlaying:!1}),e.$1&&(e.$1=!1,e.$14())},e.$28=function(){e.$14();e.setState({isBuffering:!1,isEnded:!1,isPlaying:!0});e.props.onPlay();var a=e.props.autoPlay?"autoplay":"clicktoplay";a={reason:e.props.loggerValuesRef.current.initialStartedPlaying?a:"resume",start_delay:d("PolarisVideoLogger").normalizeVideoEvent(Date.now()-e.props.loggerValuesRef.current.lastShouldStartTime)};e.props.loggerValuesRef.current.initialStartedPlaying=!1;d("PolarisStoryVideoLogger").logVideoEventWrapper("video_started_playing",d("PolarisStoryVideoLogger").getLoggingExtra(e.props.videoRef.current,e.props.post,a))},e.$29=function(){e.setState({isPosterLoaded:!0},function(){e.$12()})},e.$30=function(){e.setState({isOverlayLoaded:!0},function(){e.$16()&&(e.$12(),e.$23())})},e.$31=function(){e.setState({isVideoLoaded:!0},function(){e.$16()&&(e.props.isInitialLoad!=null&&e.props.isInitialLoad===!0&&d("PolarisStoryPerformanceLogger").StoryViewerPerformanceLogger.onMediaReady({isMediaPrefetched:!1,mediaType:2,reelId:String(e.props.reelId)}),d("PolarisStoryPerformanceLogger").StoryNavigationPerformanceLogger.onMediaReady({isMediaPrefetched:!1,reelId:c("nullthrows")(e.props.reelId)}),e.$12(),e.$23())})},e.$32=function(){d("PolarisConfig").isIOS()&&c("qex")._("126")&&c("qex")._("107")&&e.context.updateStoriesContext({isMuted:!0})},e.$33=function(){e.$32(),e.props.onNext()},e.$34=function(){e.$32(),e.props.onNextReel()},e.$35=function(){e.$32(),e.props.onPrev()},e.$36=function(){e.$32(),e.props.onPrevReel()},b)||babelHelpers.assertThisInitialized(e)}var e=b.prototype;e.componentDidUpdate=function(a){this.props.isPlaybackDisabled&&!a.isPlaybackDisabled&&!this.props.isTransitioning?this.pause():!this.props.isPlaybackDisabled&&a.isPlaybackDisabled&&!this.props.isTransitioning&&this.resume()};e.componentDidMount=function(){var a;window.addEventListener("beforeunload",this.$9);a=((a=this.props.post.mutingInfo)==null?void 0:a.should_mute_audio)!==!0;this.context.updateStoriesContext({isMusicAvailableInCountry:a});this.props.loggerValuesRef.current={initialShouldStarted:!0,initialStartedPlaying:!0,lastShouldStartTime:0,lastStartPosition:0,loggingSequenceNumber:1}};e.componentWillUnmount=function(){this.$10(),this.$9(),window.removeEventListener("beforeunload",this.$9),this.props.videoRef.current=null};e.$11=function(){var a=this.props.post,b=a.id,e=a.owner,f=a.trackingToken;a=a.postedAt;var g=this.props.videoRef.current,h=this.props.loggerValuesRef.current;h.loggingSequenceNumber++;return{analyticsContext:c("PolarisPageIdentifierConstants").StoriesPage,currentVideoTime:d("PolarisVideoLogger").normalizeVideoEvent(g==null?void 0:g.currentTime),dashInfo:null,duration:d("PolarisVideoLogger").normalizeVideoEvent(g==null?void 0:g.duration),id:b||"",owner:e,postedAt:a,sequenceNumber:h.loggingSequenceNumber,trackingToken:f,videoWidth:g==null?void 0:g.videoWidth}};e.$15=function(){return d("PolarisUA").isMobile()||this.props.post.overlayImageSrc==null||this.props.post.overlayImageSrc===""||this.state.isOverlayLoaded};e.$16=function(){return this.state.isVideoLoaded&&this.$15()};e.$17=function(){return this.$16()&&!this.state.isPlaying&&!this.$6&&!this.state.attemptingAutoplay&&!!this.props.videoRef.current&&this.props.videoRef.current.played.length===0};e.$19=function(a){a===void 0&&(a=this.props),this.$16()&&(this.$6||a.autoPlay)?this.$20("resume",a):!a.autoPlay&&this.$17()&&this.$14()};e.$20=function(a,b){var e=this;b===void 0&&(b=this.props);if(b.isPlaybackDisabled||this.state.isEnded)return;var f=this.props.videoRef.current;if(f&&!this.state.isPlaying){d("PolarisStoriesLoggingUtils").StoriesLoggingSession.stopPauseTimer();a==="autoplay"&&d("PolarisUA").isBrowser("Safari >= 15")&&(f.src=f.src);var g=f.play();g&&g.then(function(){b.onPlay(),d("PolarisConfig").isIOS()&&c("qex")._("259")&&e.$21(),a==="autoplay"&&e.setState({attemptingAutoplay:!1})})["catch"](function(b){if(a==="autoplay"){var f=e.props,g=f.autoPlay,h=f.isMuted,i=f.post;f=f.preload;if(e.props.isMuted===!0)c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("autoPlayFail",babelHelpers["extends"]({error:b.name+" "+b.message,autoPlay:g,isMuted:h,preload:f,hasAudio:i.hasAudio,userTriedToPlay:e.$6},e.state)),c("PolarisODS").incr("web.auto.play.fail");else if(e.props.toggleMute!=null){e.props.toggleMute();e.$20("autoplay");c("gkx")("4841")||d("PolarisLogger").logAction_DEPRECATED("storyVideoAutoPlayRetryAfterMute",babelHelpers["extends"]({error:b.name+" "+b.message,autoPlay:g,isMuted:h,preload:f,hasAudio:i.hasAudio,userTriedToPlay:e.$6},e.state));c("PolarisODS").incr("web.story.video.auto.play.retry.after.mute");return}e.$1=!0;e.setState({attemptingAutoplay:!1})}});this.$3=!0;d("PolarisvideoEventLogger").logVideoShouldStart(babelHelpers["extends"]({},this.$11(),{reason:a}));g=this.props.loggerValuesRef.current;g.lastShouldStartTime=Date.now();g.initialShouldStarted=!1;d("PolarisvideoEventLogger").logAudioEnabled(babelHelpers["extends"]({},this.$11(),{loopsCount:0}));g.lastStartPosition=f&&f.currentTime}};e.$24=function(){var a=this.props.videoRef.current;this.$17()?this.$10():a&&this.state.isPlaying&&(this.props.onPause(),d("PolarisStoriesLoggingUtils").StoriesLoggingSession.startPauseTimer(),a.pause(),d("PolarisConfig").isIOS()&&c("qex")._("259")&&this.$22(),d("PolarisvideoEventLogger").logVideoPausedEvent(babelHelpers["extends"]({},this.$11(),{lastStartPosition:this.props.loggerValuesRef.current.lastStartPosition,loopsCount:0,playingAudio:this.context.isMuted?0:1})))};e.render=function(){var a=this,b=this.state,e=b.isBuffering,f=b.isPosterLoaded;b=this.props;var g=b.autoPlay,h=b.eventZone,k=b.isFirstStory,l=b.onClose;b.onNext;b.onNextReel;b.onPrev;b.onPrevReel;var m=b.post,n=b.preload,o=b.viewerDimensions,p=c("nullthrows")(m.dimensions),q=this.$17();return i.jsxs("div",{className:"_ac3s",children:[null,i.jsx(c("PolarisStoryMediaLayout.react"),{intrinsicDimensions:p,children:function(b){return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisStoryPreview.react"),{className:b.className,dimensions:p,mediaPreview:m.mediaPreview},"p_"+m.id),i.jsx(c("PolarisResponsiveImage.react"),{className:c("joinClasses")(b.className,f?"":"_ac3t"),decoding:"sync",onLoad:a.$29,src:m.src,srcSet:m.displayResources}),i.jsx(c("PolarisResponsiveVideo.react"),{autoPlay:a.props.autoPlay,className:c("joinClasses")(b.className,(a.$16()?"":"_ac3t")+" _ac3u"+(!g&&a.$17()?" _ac3v":"")),forwardedRef:a.props.videoRef,muted:a.props.isMuted===!0||m.hasAudio!==!0||a.context.isMusicAvailableInCountry===!1,onEnded:a.$26,onLoadedMetadata:a.$31,onPause:a.$27,onPlaying:a.$28,onWaiting:a.$25,playsInline:!0,poster:j,preload:n,sources:c("nullthrows")(m.videoResources)}),m.overlayImageSrc!=null&&m.overlayImageSrc!==""&&d("PolarisUA").isDesktop()&&i.jsx(c("PolarisStoryVideoOverlay.react"),{className:c("joinClasses")(b.className,a.$16()?"":"_ac3t"),onLoad:a.$30,src:m.overlayImageSrc}),i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,height:d("PolarisUA").isMobile()?"":"100%",justifyContent:"center",left:!0,overflow:"hidden",position:d("PolarisUA").isMobile()?"fixed":"static",right:!0,top:!0,children:i.jsx(h,{isFirstStory:k,isPlaying:a.state.isPlaying,isVideo:!0,mediaLayout:b,onClose:l,onNext:a.$33,onNextReel:a.$34,onPause:a.pause,onPlay:a.play,onPrev:a.$35,onPrevReel:a.$36,onResume:a.resume,showVideoPlayButton:q,tappableStickersEligible:!q,viewerDimensions:o})})]})}}),e&&i.jsx(c("PolarisIGCoreSpinner"),{position:"absolute",size:"medium"})]})};return b}(i.Component);b.contextType=d("PolarisStoriesContext").StoriesContext;function a(a,b){return a.post.id!==b.post.id}e=c("PolariswithRemountOnChange")(a)(b);g["default"]=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesPageContentAvatar.react",["PolarisLocationAvatar.react","PolarisTagAvatar.react","PolarisUserAvatar.react","nullthrows","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=56;function a(a){var b=a.displayName,d=a.displayPicUrl,e=a.locationId,f=a.type;a=a.username;switch(f){case"location":return h.jsx(c("PolarisLocationAvatar.react"),{locationId:c("nullthrows")(e),profilePictureUrl:d,size:i});case"tag":return h.jsx(c("PolarisTagAvatar.react"),{profilePictureUrl:d,size:i,tagName:b});case"user":case"highlight":default:return h.jsx(c("PolarisUserAvatar.react"),{profilePictureUrl:d,size:i,username:c("nullthrows")(a)})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesPageTopAvatar.react",["cx","FastLink","PolarisIGCoreBox","PolarisLocationAvatar.react","PolarisTagAvatar.react","PolarisUserAvatar.react","PolarisUserLink.react","nullthrows","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=32;function a(a){var b=a.contentLink,d=a.displayName,e=a.displayPicUrl,f=a.locationId,g=a.type;a=a.username;switch(g){case"location":return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreBox"),{marginEnd:3,children:i.jsx(c("PolarisLocationAvatar.react"),{locationId:c("nullthrows")(f),profilePictureUrl:e,size:j})}),i.jsx(c("FastLink"),{className:"_ab1s _ab1t",href:b,children:d})]});case"tag":return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisTagAvatar.react"),{className:"_ab1r",profilePictureUrl:e,size:j,tagName:d}),i.jsxs(c("FastLink"),{className:"_ab1s _ab1t",href:b,children:["#",d]})]});case"user":case"highlight":default:return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisUserAvatar.react"),{className:"_ab1r",profilePictureUrl:e,size:j,username:c("nullthrows")(a)}),i.jsx(c("PolarisUserLink.react"),{className:"_ab1s _ab1t",username:c("nullthrows")(a),children:d})]})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesLoginPage.react",["cx","fbt","PolarisAuthFormCard.react","PolarisDesktopStoriesPageContentAvatar.react","PolarisDesktopStoriesPageTopAvatar.react","PolarisFullscreenShell.react","PolarisGenericStrings","PolarisIGCoreBox","PolarisLoggedOutLoginStrings","PolarisLoginPageHelpers","PolarisPageIdentifierConstants","PolarisPageMetadata.react","PolarisStoryProgressBars.react","PolarisStyleConstants","browserHistory","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=i._("Stories");function a(a){var b=a.highlightReelId,e=a.highlightReelTitle,f=a.initializing;f=f===void 0?!1:f;var g=a.locationId,h=a.tagName;a=a.username;var i=function(){d("browserHistory").browserHistory.push(l)};b=d("PolarisLoginPageHelpers").useCommonMapStateToProps({highlightReelId:b,highlightReelTitle:e,initializing:f,locationId:g,tagName:h,username:a});var l=b.contentLink;e=b.displayName;f=b.displayPicUrl;h=b.type;b=d("react-redux-wwwig").useSelector(function(a){return a.displayProperties.viewportHeight});b=b-c("PolarisStyleConstants")["story-desktop-margin-top"].value-c("PolarisStyleConstants")["story-desktop-margin-bottom"].value;b=c("PolarisStyleConstants")["story-viewer-aspect-ratio-w-h"].value*b;return j.jsxs(c("PolarisFullscreenShell.react"),{className:"_aaon",children:[j.jsx(c("PolarisPageMetadata.react"),{id:c("PolarisPageIdentifierConstants").StoriesLoginPage,title:k}),j.jsxs("div",{className:"_aaoo",style:{width:b},children:[j.jsx("div",{className:"_aaop",children:j.jsx(c("PolarisDesktopStoriesPageTopAvatar.react"),{contentLink:l,displayName:e,displayPicUrl:f,locationId:g,type:h,username:a})}),j.jsx(c("PolarisIGCoreBox"),{marginBottom:1,marginTop:3,children:j.jsx(c("PolarisStoryProgressBars.react"),{count:1,currentIndex:0,percentage:0})}),j.jsxs("div",{className:"_aaor",children:[j.jsx("div",{className:"_aaos",children:j.jsxs("div",{className:"_aaot",children:[j.jsx("div",{className:"_9-v- _aaou",children:j.jsx(c("PolarisDesktopStoriesPageContentAvatar.react"),{displayName:e,displayPicUrl:f,locationId:g,type:h,username:a})}),j.jsx("div",{className:"_aaov",children:d("PolarisLoggedOutLoginStrings").TEXT_INTENT_STORIES})]})}),j.jsx("div",{className:"_aaow",children:j.jsx("div",{className:"_aaox",children:j.jsx(c("PolarisAuthFormCard.react"),{className:"_aaoy",hideAppUpsells:!0,isCaptchaEnabled:!1,pageIdentifier:c("PolarisPageIdentifierConstants").StoriesPage,showNetzDGReportLink:!0})})}),j.jsx("button",{className:"_aaoz",onClick:i,children:j.jsx("div",{className:"_9zm4",children:j.jsx("span",{className:"_a9_u",children:d("PolarisGenericStrings").CLOSE_TEXT})})})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=c("PolarisPageIdentifierConstants").StoriesLoginPage;g.DesktopStoriesLoginPage=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesV2ReelStandaloneViewer.react",["PolarisIGCoreBox","PolarisSizing","PolarisStoryViewer.react","PolarisstorySelectors","PolarisuseIGCoreWindowSize","react","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){a=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelId});var b=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostId),e=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelItemIndex}),f=c("PolarisuseIGCoreWindowSize")();f=f.innerHeight;f=d("PolarisSizing").getViewerDimensionsFromHeightV2(f);var g=f.height;f=f.width;return a==null||b==null?null:h.jsx(c("PolarisIGCoreBox"),{alignItems:"center",display:"flex",flex:"grow",justifyContent:"center",children:h.jsx("div",{style:{height:g,width:f},children:h.jsx(c("PolarisStoryViewer.react"),{postId:b,reelId:a,reelItemIndex:e,viewerHeight:g,viewerWidth:f})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesV2ReelPreviewOverlays.react",["cx","PolarisSensitivityOverlayIcon.react","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");function a(){return i.jsx("div",{className:"_ac07"})}a.displayName=a.name+" [from "+f.id+"]";function b(){return i.jsx("div",{className:"_ac08"})}b.displayName=b.name+" [from "+f.id+"]";function e(){return i.jsx("div",{className:"_ac09",children:i.jsx(c("PolarisSensitivityOverlayIcon.react"),{mediaOverlayIconGlyph:null})})}e.displayName=e.name+" [from "+f.id+"]";g.DesktopStoriesPreviewObscurityOverlay=a;g.DesktopStoriesPreviewSeenOverlay=b;g.DesktopStoriesPreviewSensitivityOverlay=e},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesV2ReelPreview.react",["cx","fbt","ix","IGCoreImage","PolarisDesktopStoriesV2ReelPreviewOverlays.react","PolarisGroupProfileUtils","PolarisIGCoreBox","PolarisIGCorePressable","PolarisIGCoreText","PolarisResponsiveImage.react","PolarisSponsoredLabel.react","PolarisTimestamp.react","PolarisUserAvatarWithStories.react","PolarisadsSelectors","PolarisgetPostFromGraphMediaInterface","PolarispostSelectors","PolarisstorySelectors","PolarisuserSelectors","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react"),l={whiteText:{color:"pgg6evsx"}},m={width:"100%"},n={height:"100%",transform:"translateX(-25%)"};function o(a){var b=a.pictureUrl,e=a.post,f=a.postedAt,g=a.reelIsSeen,h=a.title;a=a.user;e=d("PolarisadsSelectors").useStoryAdInfo(e==null?void 0:e.id,function(a){return a==null?void 0:a.label});var i=e==null?null:k.jsx(c("PolarisSponsoredLabel.react"),{label:e,xstyle:l.whiteText});e=e==null?k.jsx(c("PolarisTimestamp.react"),{isLong:!1,value:f}):null;return k.jsxs(c("PolarisIGCoreBox"),{alignItems:"center",bottom:!0,height:"100%",justifyContent:"center",left:!0,position:"absolute",right:!0,top:!0,children:[g?null:k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewObscurityOverlay,{}),k.jsxs("div",{className:"_ac0h _advu",children:[k.jsx(c("PolarisUserAvatarWithStories.react"),{isClickable:!1,isLink:!1,profilePictureUrl:b,showLivePulse:!1,showLiveRing:!1,size:56,storyEntrypoint:"reel_feed_timeline",username:a.username}),k.jsxs("div",{className:"_afgd",children:[k.jsx(c("PolarisIGCoreBox"),{marginTop:4,children:k.jsx(c("PolarisIGCoreText").BodyEmphasized,{color:"web-always-white",children:h})}),k.jsx(c("PolarisIGCoreBox"),{marginTop:2,children:k.jsxs(c("PolarisIGCoreText").Body,{color:"web-always-white",children:[i,e]})})]})]})]})}o.displayName=o.name+" [from "+f.id+"]";function a(a){var b,e=a.onClick,f=a.reelId,g=d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getReel(a,f)}),h=d("react-redux-wwwig").useSelector(function(a){var b=g==null?void 0:g.itemIds;if(b!=null&&b.length>0&&g!=null){b=(b=d("PolarisstorySelectors").getInitialReelIndex(a,g.id))!=null?b:0;b=c("nullthrows")(g==null?void 0:g.itemIds)[b];if(b)return d("PolarispostSelectors").getPostById(a,b)}return null});a=h!=null&&d("PolarisgetPostFromGraphMediaInterface").getMediaOverlayMediaCoverInfoFromPost(h)!=null;var l=d("PolarisuserSelectors").useUser(g==null?void 0:g.userId),p=d("react-redux-wwwig").useSelector(function(a){var b;b=h==null?void 0:(b=h.owner)==null?void 0:b.id;return b!=null?d("PolarisuserSelectors").getUserById(a,b):null});b=(h==null?void 0:(b=h.dimensions)==null?void 0:b.height)===(h==null?void 0:(b=h.dimensions)==null?void 0:b.width);b=b?n:m;l=d("PolarisGroupProfileUtils").getIsUserGroupProfile(l)&&d("PolarisGroupProfileUtils").getIsGroupProfileStoryAttributionEnabled()?l:p;if(g!=null){p=d("PolarisstorySelectors").isReelSeen(g);var q=g.type==="GraphHighlightReel";return k.jsx("div",{className:"_ac0i",children:h==null||l==null?k.jsx(c("IGCoreImage"),{alt:i._("Story loading placeholder"),src:{light:j("163057")}}):k.jsxs(c("PolarisIGCorePressable"),{className:"_ac0j",keyPress:["Enter"],onPress:function(){return e(f)},children:[p?k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewSeenOverlay,{}):null,a?k.jsx(d("PolarisDesktopStoriesV2ReelPreviewOverlays.react").DesktopStoriesPreviewSensitivityOverlay,{}):null,h==null?null:k.jsx(c("PolarisResponsiveImage.react"),{decoding:"sync",src:h.src,srcSet:h.displayResources,style:b}),k.jsx(o,{pictureUrl:q?g.thumbnailUrl:l.profilePictureUrl,post:h,postedAt:c("nullthrows")(h.postedAt),reelIsSeen:p,title:q?g.title:l.username,user:c("nullthrows")(l)})]})})}return k.jsx(k.Fragment,{})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesViewerOrPreview.react",["PolarisDesktopStoriesV2ReelPreview.react","PolarisSponsoredStory.react","PolarisStoryActions","PolarisStoryViewer.react","PolarisstorySelectors","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,e=a.reelId,f=a.viewerHeight;a=a.viewerWidth;var g=d("react-redux-wwwig").useDispatch(),i=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelId}),j=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostId),k=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelItemIndex});b=(b=d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getReel(a,(a=e)!=null?a:"")}))==null?void 0:b.isSponsored;var l=e==null;if(l)return null;l=i===e;if(l){if(e==null||j==null)return null;return b===!0?h.jsx(c("PolarisSponsoredStory.react"),{isMobile:!1,postId:j,reelId:e,reelItemIndex:k},e):h.jsx(c("PolarisStoryViewer.react"),{postId:j,reelId:e,reelItemIndex:k,viewerHeight:f,viewerWidth:a})}return h.jsx(c("PolarisDesktopStoriesV2ReelPreview.react"),{onClick:function(){return g(d("PolarisStoryActions").navigateToClickedGalleryReel(c("nullthrows")(e)))},reelId:c("nullthrows")(e)})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesV2ReelsGallery.react",["cx","PolarisDesktopStoriesViewerOrPreview.react","PolarisIGAnimate","PolarisIGCoreBox","PolarisStoryNavigationPerformanceLogger","PolarisuseDesktopStoriesGalleryIds","PolarisuseDesktopStoriesGallerySize","PolarisuseDesktopStoriesGallerySprings","react","react-spring-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useCallback;function a(a){var b=d("PolarisuseDesktopStoriesGalleryIds").useDesktopStoriesGalleryIds();a=c("PolarisuseDesktopStoriesGallerySize")();var e=a.aspectRatio,f=a.maxGalleryHeight;a=a.maxGalleryWidth;var g=j(function(a){a!=null&&(c("PolarisStoryNavigationPerformanceLogger").onTransitionFinish({reelId:a}),c("PolarisStoryNavigationPerformanceLogger").onNavigationSuccess({reelId:a}))},[]);e=d("PolarisuseDesktopStoriesGallerySprings").useDesktopStoriesGallerySprings(b,e,f,a,g);var h=e[0],k=e[1];g=e[2];return i.jsx("div",{className:"_ac0n",style:{maxWidth:a,maxHeight:f},children:i.jsx(c("PolarisIGCoreBox"),{alignItems:"center",direction:"row",display:"flex",height:"100%",children:g.map(function(a,e){var f=a.scale;a=a.x;return i.jsx(d("PolarisIGAnimate").Animated.div,{style:{height:h,width:k,transform:d("react-spring-wwwig").interpolate([a,f],function(a,b){return"translate("+a+"px) scale("+b+")"}),position:"absolute",left:0,transformOrigin:"left"},children:i.jsx(c("PolarisDesktopStoriesViewerOrPreview.react"),{reelId:b[e],viewerHeight:h,viewerWidth:k})},e)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisIGCoreFullscreenClose24Icon",["PolarisIGCoreSVGIcon","react"],function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("polyline",{fill:"none",points:"7.75 0.75 7.75 7.75 0.75 7.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"0.75 16.25 7.75 16.25 7.75 23.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"7.75 0.75 7.75 7.75 0.75 7.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"0.75 16.25 7.75 16.25 7.75 23.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"16.25 0.75 16.25 7.75 23.25 7.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"23.25 16.25 16.25 16.25 16.25 23.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisIGCoreFullscreenOutline24Icon",["PolarisIGCoreSVGIcon","react"],function(a,b,c,d,e,f,g){var h=d("react");function a(a){return h.jsxs(c("PolarisIGCoreSVGIcon"),babelHelpers["extends"]({},a,{viewBox:"0 0 24 24",children:[h.jsx("polyline",{fill:"none",points:"0.75 7.75 0.75 0.75 7.75 0.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"7.75 23.25 0.75 23.25 0.75 16.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"0.75 7.75 0.75 0.75 7.75 0.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"7.75 23.25 0.75 23.25 0.75 16.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"23.25 7.75 23.25 0.75 16.25 0.75",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"}),h.jsx("polyline",{fill:"none",points:"16.25 23.25 23.25 23.25 23.25 16.25",stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"1.5"})]}))}a.displayName=a.name+" [from "+f.id+"]";b=h.memo(a);g["default"]=b},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisFullscreenButton.react",["PolarisGenericStrings","PolarisIGCoreFullscreenClose24Icon","PolarisIGCoreFullscreenOutline24Icon","PolarisIGCoreSVGIconButton","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(){var a=j(!1),b=a[0],e=a[1],f=function(){if(!document.fullscreenElement){var a;(a=document.documentElement)==null?void 0:a.requestFullscreen();e(!0)}else document.exitFullscreen&&(document.exitFullscreen(),e(!1))};i(function(){var a=function(a){a.key==="f"&&f()};document.addEventListener("keydown",a);return function(){document.removeEventListener("keydown",a)}},[]);return document.fullscreenEnabled?h.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:f,children:b?h.jsx(c("PolarisIGCoreFullscreenClose24Icon"),{alt:d("PolarisGenericStrings").EXIT_FULLSCREEN_TEXT,color:"web-always-white"}):h.jsx(c("PolarisIGCoreFullscreenOutline24Icon"),{alt:d("PolarisGenericStrings").GO_FULLSCREEN_TEXT,color:"web-always-white"})}):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisDesktopStoriesPage.react",["cx","fbt","ix","FastLink","IGCoreImage","PolarisAsyncEntityQRModal","PolarisDesktopStoriesV2ReelStandaloneViewer.react","PolarisDesktopStoriesV2ReelsGallery.react","PolarisFullscreenButton.react","PolarisFullscreenShell.react","PolarisGenericStrings","PolarisIGCoreSVGIconButton","PolarisIGCoreSpinner","PolarisIGCoreXPanoFilledIcon","PolarisPageIdentifierConstants","PolarisPageMetadata.react","PolarisRoutes","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryVideoContext.react","PolarisstorySelectors","gkx","react","react-redux-wwwig","usePolarisReelNotAvailable"],function(a,b,c,d,e,f,g,h,i,j){"use strict";var k=d("react");b=d("react");var l=b.useCallback,m=b.useState,n=i._("Stories");function a(a){var b=a.highlightReelId,e=a.initializing,f=a.needsTapToStart,g=a.showQRModal;a=a.viewerIsLoggedIn;g=m(g);var h=g[0],i=g[1];g=d("react-redux-wwwig").useSelector(function(a){return a.stories.isLoading});g=g===!0||e===!0;e=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentTrayOrder});e=g!==!0&&e.length>1;var o=g!==!0&&e!==!0,p=d("react-redux-wwwig").useDispatch(),q=l(function(a){a===void 0&&(a="tap_exit");return p(d("PolarisStoryActions").closeReels(a))},[p]),r=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentReel),s=c("usePolarisReelNotAvailable")(g,r);return s?null:k.jsxs(c("PolarisFullscreenShell.react"),{className:"_ac0e",children:[k.jsx(c("PolarisPageMetadata.react"),{id:c("PolarisPageIdentifierConstants").StoriesPage,title:n}),g!==!0?k.jsxs(k.Fragment,{children:[k.jsx(d("PolarisStoriesProvider.react").StoriesContextProvider,{initialState:{needsTapToStart:f,viewerIsLoggedIn:a},children:k.jsxs(d("PolarisStoryVideoContext.react").StoryVideoContextProvider,{children:[e?k.jsx(c("PolarisDesktopStoriesV2ReelsGallery.react"),{}):null,o?k.jsx(c("PolarisDesktopStoriesV2ReelStandaloneViewer.react"),{}):null]})}),h&&k.jsx(c("PolarisAsyncEntityQRModal"),{entityID:(s=b==null?void 0:b.toString())!=null?s:r==null?void 0:(g=r.itemIds)==null?void 0:g[0],onClose:function(){return i(!1)},source:"DIRECT_NAVIGATION"})]}):k.jsx(c("PolarisIGCoreSpinner"),{color:"light",position:"absolute",size:"medium"}),k.jsx("div",{className:"_ac0f",children:k.jsx(c("FastLink"),{href:d("PolarisRoutes").FEED_PATH,children:k.jsx(c("IGCoreImage"),{alt:d("PolarisGenericStrings").INSTAGRAM_TEXT,src:{light:j("163077")}})})}),k.jsx("div",{className:"_ac0g",children:k.jsx(c("PolarisIGCoreSVGIconButton"),{onClick:function(){return q("tap_exit")},children:k.jsx(c("PolarisIGCoreXPanoFilledIcon"),{alt:d("PolarisGenericStrings").CLOSE_TEXT,color:"web-always-white"})})}),c("gkx")("2299")&&k.jsx("div",{className:"_aept",children:k.jsx(c("PolarisFullscreenButton.react"),{})})]})}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=c("PolarisPageIdentifierConstants").StoriesPage;g.PAGE_TITLE=n;g.DesktopStoriesPage=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisCSSTransition.react",["PolarisTransition.react","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){return typeof a==="string"?{enter:a+"-enter",enterActive:a+"-enter-active",exit:a+"-exit",exitActive:a+"-exit-active"}:a}a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,c;for(var e=arguments.length,f=new Array(e),g=0;g<e;g++)f[g]=arguments[g];return(b=c=a.call.apply(a,[this].concat(f))||this,c.state=c.$1(),c.$4=function(){c.$5(d("PolarisTransition.react").TRANSITION_STATUS.ENTERING,c.props.onEntering)},c.$6=function(){c.$5(d("PolarisTransition.react").TRANSITION_STATUS.ENTERED,c.props.onEntered)},c.$7=function(){c.$5(d("PolarisTransition.react").TRANSITION_STATUS.EXITING,c.props.onExiting)},c.$8=function(){c.$5(d("PolarisTransition.react").TRANSITION_STATUS.EXITED,c.props.onExited)},b)||babelHelpers.assertThisInitialized(c)}var c=b.prototype;c.componentDidMount=function(){this.props.appear&&this.$2()};c.componentDidUpdate=function(){this.$2()};c.componentWillUnmount=function(){this.timeoutID!=null&&window.clearTimeout(this.timeoutID)};c.$3=function(){var a=this.props.classNames;a=i(a);var b=this.state,c=b.active;b=b.status;var e=[];b===d("PolarisTransition.react").TRANSITION_STATUS.ENTERING?(a.enter!=null&&e.push(a.enter),c&&a.enterActive!=null&&e.push(a.enterActive)):b===d("PolarisTransition.react").TRANSITION_STATUS.EXITING&&(a.exit!=null&&e.push(a.exit),c&&a.exitActive!=null&&e.push(a.exitActive));return e};c.$1=function(){var a=this.props;a=a["in"]?a.appear?d("PolarisTransition.react").TRANSITION_STATUS.ENTERING:d("PolarisTransition.react").TRANSITION_STATUS.ENTERED:d("PolarisTransition.react").TRANSITION_STATUS.EXITED;return{active:!1,status:a}};c.$2=function(){var a=this;!this.state.active&&(this.state.status===d("PolarisTransition.react").TRANSITION_STATUS.ENTERING||this.state.status===d("PolarisTransition.react").TRANSITION_STATUS.EXITING)&&(this.timeoutID=window.setTimeout(function(){return a.setState({active:!0})}))};c.$5=function(a,b){this.setState({status:a,active:!1},b)};c.render=function(){var a=this.props,b=a.children;a.classNames;a=babelHelpers.objectWithoutPropertiesLoose(a,["children","classNames"]);var c=this.$3();return b!=null?h.jsx(d("PolarisTransition.react").Transition,babelHelpers["extends"]({},a,{onEntered:this.$6,onEntering:this.$4,onExited:this.$8,onExiting:this.$7,children:b(c)})):null};return b}(h.Component);a.defaultProps=d("PolarisTransition.react").Transition.defaultProps;g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisTransitionUtils",["lodash-difference","lodash-memoize","nullthrows"],function(a,b,c,d,e,f,g){"use strict";a=function(){function a(a){var b=this;this.$1=[];this.$2=new Map();this.getTransitions=c("lodash-memoize")(function(){return b.$1.map(function(a){return c("nullthrows")(b.$2.get(a))})});a!=null&&(this.$1=[].concat(a.$1),this.$2=new Map(a.$2))}var b=a.prototype;b.$3=function(a){var b=this;a.forEach(function(a){b.$2.has(a)||b.$2.set(a,{appear:!1,"in":!0,key:a})})};b.$4=function(a){this.$2.set(a,babelHelpers["extends"]({},this.$2.get(a),{appear:!0,"in":!0}))};b.$5=function(a){this.$2.set(a,babelHelpers["extends"]({},this.$2.get(a),{"in":!1}))};b.$6=function(a){this.$3(a),this.$1=[].concat(a)};b.$7=function(a){var b=this;this.$3(a);var d=this.$1,e=new Set(c("lodash-difference")(a,d)),f=new Set(c("lodash-difference")(d,a));a=[].concat(a);if(f.size>0){d=d.reduce(function(b,c,a){return babelHelpers["extends"]({},b,(b={},b[c]=a,b))},{});var g=0;for(var h=f,i=Array.isArray(h),j=0,h=i?h:h[typeof Symbol==="function"?Symbol.iterator:"@@iterator"]();;){var k;if(i){if(j>=h.length)break;k=h[j++]}else{j=h.next();if(j.done)break;k=j.value}k=k;var l=d[k];a.splice(l+g,0,k);g++}}e.forEach(function(a){return b.$4(a)});f.forEach(function(a){return b.$5(a)});this.$1=a};b.$8=function(a){this.$2["delete"](a),this.$1=this.$1.filter(function(b){return b!==a})};a.create=function(b){var c=new a();c.$6(b);return c};b.update=function(b){var c=new a(this);c.$7(b);return c};b["delete"]=function(b){var c=new a(this);c.$8(b);return c};return a}();g.TransitionManager=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisTransitionGroup.react",["PolarisTransitionUtils","nullthrows","react"],function(a,b,c,d,e,f,g){"use strict";function h(a){a=i(a,"string");return typeof a==="symbol"?a:String(a)}function i(a,b){if(typeof a!=="object"||a===null)return a;var c=a[typeof Symbol==="function"?Symbol.toPrimitive:"@@toPrimitive"];if(c!==void 0){c=c.call(a,b||"default");if(typeof c!=="object")return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return(b==="string"?String:Number)(a)}var j=d("react");a=function(a){babelHelpers.inheritsLoose(b,a);function b(){var b,e;for(var f=arguments.length,g=new Array(f),i=0;i<f;i++)g[i]=arguments[i];return(b=e=a.call.apply(a,[this].concat(g))||this,e.state={transitions:Object.freeze({}),transitionManager:d("PolarisTransitionUtils").TransitionManager.create(e.props.children!=null?j.Children.map(e.props.children,function(a){return c("nullthrows")(a.key)}):[])},e.$1=function(a){var b=e.state.transitions,c=b[a];b=babelHelpers.objectWithoutPropertiesLoose(b,[a].map(h));e.setState({transitions:b,transitionManager:e.state.transitionManager["delete"](a)});c.props.onExited!=null&&c.props.onExited()},b)||babelHelpers.assertThisInitialized(e)}b.getDerivedStateFromProps=function(a,b){a=a.children!=null?a.children:[];var d=babelHelpers["extends"]({},b.transitions);j.Children.forEach(a,function(a){return d[c("nullthrows")(a.key)]=a});a=j.Children.map(a,function(a){return c("nullthrows")(a.key)});b=b.transitionManager.update(a);return{transitions:d,transitionManager:b}};var e=b.prototype;e.render=function(){var a=this,b=this.state.transitionManager.getTransitions();return b.map(function(b){var c=b.key;b=babelHelpers.objectWithoutPropertiesLoose(b,["key"]);var d=a.state.transitions[c];return j.cloneElement(d,babelHelpers["extends"]({},b,{onExited:function(){return a.$1(c)}}))})};return b}(j.Component);g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisMobileStories.react",["cx","PolarisCSSTransition.react","PolarisConfig","PolarisMobileStoriesConstants","PolarisRelationshipTypes","PolarisSponsoredStory.react","PolarisStoriesProvider.react","PolarisStoryViewer.react","PolarisStyleConstants","PolarisTransitionGroup.react","PolarisrelationshipSelectors","PolarisstorySelectors","joinClasses","nullthrows","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=d("react").useEffect,k={enter:"_afa6",enterActive:"_afa7",exit:"_afa8",exitActive:"_afa9"},l={enter:"_afaa",enterActive:"_afab",exit:"_afac",exitActive:"_afad"};function a(a){var b=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getTrayEntrypoint)),e=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentReel)),f=c("nullthrows")(d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentReelOwner)),g=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentPostId),h=d("react-redux-wwwig").useSelector(function(a){return a.stories.currentReelItemIndex});a=d("PolarisStoriesProvider.react").useStoriesContext();var m=a.updateStoriesContext;a=a.animationDirection;var n=d("react-redux-wwwig").useSelector(function(a){return d("PolarisrelationshipSelectors").getRelationship(a.relationships,f.id)})===d("PolarisRelationshipTypes").FOLLOW_STATUS_FOLLOWING;j(function(){b==="story_viewer_list"&&m({isInitiallyFollowedByViewer:n})},[n,b,m]);var o=function(){m({isTransitioning:!0})},p=function(){m({isTransitioning:!1})};if(e==null||g==null)return null;a=a===d("PolarisMobileStoriesConstants").AnimationDirections.FORWARD?k:l;return i.jsx("div",{className:"_afae"+(d("PolarisConfig").isIOS()?" _afaf":""),children:i.jsx("div",{className:"_afag",children:i.jsx(c("PolarisTransitionGroup.react"),{children:i.jsx(c("PolarisCSSTransition.react"),{classNames:a,onEntered:p,onExited:o,timeout:c("PolarisStyleConstants")["story-swap-animation-duration"].value,children:function(a){a=c("joinClasses").apply(void 0,["_afah"].concat(a));return i.jsx("div",{className:a,children:e.isSponsored===!0?i.jsx(c("PolarisSponsoredStory.react"),{isMobile:!0,postId:g,reelId:e.id,reelItemIndex:h},e.id):i.jsx(c("PolarisStoryViewer.react"),{isMobile:!0,postId:g,reelId:e.id,reelItemIndex:h})})}},e.id)})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisMobileStoriesPageAvatar.react",["cx","FastLink","PolarisIGCoreBox","PolarisLocationAvatar.react","PolarisTagAvatar.react","PolarisUserAvatar.react","PolarisUserLink.react","nullthrows","react"],function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j=32;function a(a){var b=a.contentLink,d=a.displayName,e=a.displayPicUrl,f=a.locationId,g=a.type;a=a.username;switch(g){case"location":return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisIGCoreBox"),{marginEnd:3,children:i.jsx(c("PolarisLocationAvatar.react"),{backgroundColor:"ig-primary-background",locationId:c("nullthrows")(f),profilePictureUrl:e,size:j})}),i.jsx(c("FastLink"),{className:"_aaol _aaom",href:b,children:d})]});case"tag":return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisTagAvatar.react"),{className:"_aaok",profilePictureUrl:e,size:j,tagName:d}),i.jsxs(c("FastLink"),{className:"_aaol _aaom",href:b,children:["#",d]})]});case"user":case"highlight":default:return i.jsxs(i.Fragment,{children:[i.jsx(c("PolarisUserAvatar.react"),{className:"_aaok",profilePictureUrl:e,size:j,username:c("nullthrows")(a)}),i.jsx(c("PolarisUserLink.react"),{className:"_aaol _aaom",username:c("nullthrows")(a),children:d})]})}}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisMobileStoriesLoginPage.react",["cx","fbt","PolarisAuthFormCard.react","PolarisConfig","PolarisFullscreenShell.react","PolarisGenericStrings","PolarisLoggedOutAppUpsellCard.react","PolarisLoginPageHelpers","PolarisMobileStoriesPageAvatar.react","PolarisOneTapLogin","PolarisPageIdentifierConstants","PolarisPageMetadata.react","PolarisStoryProgressBars.react","PolarisUA","browserHistory","react","react-redux-wwwig"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k=i._("Stories");function a(a){var b=a.highlightReelId,e=a.highlightReelTitle,f=a.initializing;f=f===void 0?!1:f;var g=a.locationId,h=a.tagName;a=a.username;var l=function(){d("browserHistory").browserHistory.push(n)},m=d("PolarisUA").isMobile()&&!d("PolarisOneTapLogin").isOneTapLoginEligible();b=d("PolarisLoginPageHelpers").useCommonMapStateToProps({highlightReelId:b,highlightReelTitle:e,initializing:f,locationId:g,tagName:h,username:a});var n=b.contentLink;e=b.displayName;f=b.displayPicUrl;h=b.type;b=d("react-redux-wwwig").useSelector(function(a){return a.navigation.loginModalSource});return j.jsxs(c("PolarisFullscreenShell.react"),{className:"_aavv"+(d("PolarisConfig").isIOS()?" _aavw":""),children:[j.jsx(c("PolarisPageMetadata.react"),{id:c("PolarisPageIdentifierConstants").StoriesLoginPage,title:k}),j.jsxs("div",{className:"_aavx",children:[j.jsxs("header",{className:"_aavy",children:[j.jsx(c("PolarisStoryProgressBars.react"),{count:1,currentIndex:0,percentage:0}),j.jsxs("div",{className:"_aavz",children:[j.jsx(c("PolarisMobileStoriesPageAvatar.react"),{contentLink:n,displayName:e,displayPicUrl:f,locationId:g,type:h,username:a}),j.jsx("div",{className:"_aav-",children:j.jsx("button",{className:"_aav_ _9zm4",onClick:l,onKeyUp:l,children:j.jsx("span",{className:"_a9_u",children:d("PolarisGenericStrings").CLOSE_TEXT})})})]})]}),m?j.jsx(c("PolarisLoggedOutAppUpsellCard.react"),{intentSource:b,triggeringPageType:"story",triggeringUserPicUrl:f,triggeringUserUsername:a}):j.jsxs("div",{className:"_aaw0",children:[j.jsx("div",{className:"_aaw1",children:i._("Log in to view this story")}),j.jsx("div",{className:"_aaw2",children:j.jsx("div",{className:"_aaw3",children:j.jsx("div",{className:"_aaw4",children:j.jsx(c("PolarisAuthFormCard.react"),{className:"_aaw5",hideBorder:!0,isCaptchaEnabled:!1,pageIdentifier:c("PolarisPageIdentifierConstants").StoriesPage})})})})]})]})]})}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=c("PolarisPageIdentifierConstants").StoriesLoginPage;g.MobileStoriesLoginPage=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisMobileStoriesPage.react",["cx","fbt","PolarisAsyncEntityQRModal","PolarisConfig","PolarisFullscreenShell.react","PolarisIGCoreSpinner","PolarisMobileStories.react","PolarisPageIdentifierConstants","PolarisPageMetadata.react","PolarisStoriesProvider.react","PolarisStoryActions","PolarisStoryVideoContext.react","PolarisstorySelectors","PolarisuseDisplayProperties","react","react-redux-wwwig","usePolarisReelNotAvailable"],function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");var k=b.useEffect,l=b.useState,m=i._("Stories");function a(a){var b=a.highlightReelId,e=a.initializing,f=a.needsTapToStart,g=a.showQRModal;a=a.viewerIsLoggedIn;g=l(g);var h=g[0],i=g[1];g=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentReel);var n=d("react-redux-wwwig").useDispatch(),o=d("react-redux-wwwig").useSelector(function(a){return a.displayProperties.orientation}),p=d("react-redux-wwwig").useSelector(function(a){return a.stories.isLoading});p=p===!0||e===!0;e=c("PolarisuseDisplayProperties")();e=e.viewportHeight;k(function(){return function(){n(d("PolarisStoryActions").navigateFromStory())}},[n]);var q=c("usePolarisReelNotAvailable")(p,g);return q?null:j.jsxs(c("PolarisFullscreenShell.react"),{className:"_aa2j"+(d("PolarisConfig").isIOS()?" _aa2k":""),deviceOrientation:o,style:{height:e},children:[j.jsx(c("PolarisPageMetadata.react"),{id:c("PolarisPageIdentifierConstants").StoriesPage,title:m}),p!==!0?j.jsxs(j.Fragment,{children:[j.jsx(d("PolarisStoriesProvider.react").StoriesContextProvider,{initialState:{needsTapToStart:f,viewerIsLoggedIn:a},children:j.jsx(d("PolarisStoryVideoContext.react").StoryVideoContextProvider,{children:j.jsx(c("PolarisMobileStories.react"),{})})}),h&&j.jsx(c("PolarisAsyncEntityQRModal"),{entityID:(q=b==null?void 0:b.toString())!=null?q:g==null?void 0:(o=g.itemIds)==null?void 0:o[0],onClose:function(){return i(!1)},source:"DIRECT_NAVIGATION"})]}):j.jsx(c("PolarisIGCoreSpinner"),{color:"light",position:"absolute",size:"medium"})]})}a.displayName=a.name+" [from "+f.id+"]";g.PAGE_ID=c("PolarisPageIdentifierConstants").StoriesPage;g.MobileStoriesPage=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XIGStoriesHelpers",["useRouteReferrer"],function(a,b,c,d,e,f,g){"use strict";function a(){var a=c("useRouteReferrer")();return(a==null?void 0:a.navigationType)==="initial"||(a==null?void 0:a.navigationType)==="reload"}g.useNeedsTapToStart=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("XIGStoriesComponent",["PolarisDesktopStoriesLoginPage.react","PolarisDesktopStoriesPage.react","PolarisMobileStoriesLoginPage.react","PolarisMobileStoriesPage.react","PolarisUA","XIGStoriesHelpers","react"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var b,c=d("XIGStoriesHelpers").useNeedsTapToStart();a.viewerIsLoggedIn||a.isLoggedOutHighlightViewer===!0?b=d("PolarisUA").isMobile()?d("PolarisMobileStoriesPage.react").MobileStoriesPage:d("PolarisDesktopStoriesPage.react").DesktopStoriesPage:b=d("PolarisUA").isMobile()?d("PolarisMobileStoriesLoginPage.react").MobileStoriesLoginPage:d("PolarisDesktopStoriesLoginPage.react").DesktopStoriesLoginPage;return h.jsx("div",{style:{height:"100vh",width:"100%",position:"fixed"},children:h.jsx(b,babelHelpers["extends"]({},a,{needsTapToStart:c}))})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);
__d("PolarisStoriesMediaRoot.react",["PolarisLinkBuilder","PolarisStoryActions","PolarisisUserLoggedIn","PolarisstorySelectors","XIGStoriesComponent","nullthrows","promiseDone","react","react-redux-wwwig"],function(a,b,c,d,e,f,g){"use strict";var h=d("react");b=d("react");var i=b.useEffect,j=b.useState;function a(a){a=a.props;var b=a.routeProps,e=b.show_qr_modal,f=b.user;b=a.routeParams;var g=b.initial_media_id;a=b.username;var k=d("react-redux-wwwig").useDispatch();b=j(!1);var l=b[0],m=b[1];b=d("PolarisisUserLoggedIn").isUserLoggedIn();if(!b&&a!=null){var n=d("PolarisLinkBuilder").buildUserStoryLink(a);k(d("PolarisStoryActions").initStoryAuth(n))}n=d("react-redux-wwwig").useSelector(function(a){return d("PolarisstorySelectors").getReel(a,c("nullthrows")(f.id))});var o=d("react-redux-wwwig").useSelector(d("PolarisstorySelectors").getCurrentStoryPosition),p=!n||n.itemIds==null||o==null;i(function(){!l&&p&&c("promiseDone")(k(d("PolarisStoryActions").initStoryPage({owner:f,initialMediaId:g})).then(function(){m(!0)}))},[p,k,g,l,f]);return h.jsx(c("XIGStoriesComponent"),{viewerIsLoggedIn:b,showQRModal:e,initializing:p&&l===!1,username:a})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a},98,typeof self!=="undefined"&&self.document&&self.document.currentScript);